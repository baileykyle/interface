"use strict";(self.webpackChunk_uniswap_interface=self.webpackChunk_uniswap_interface||[]).push([[3439],{96620:(e,n,o)=>{o.d(n,{x:()=>u});var i=o(95682),r=o(65475),s=o(33962),t=o(66249),a=o(79253),l=o(76804),c=o(28177);function d({children:e}){return(0,i.jsx)(a.s,{backgroundColor:"$surface2",borderBottomLeftRadius:"$rounded20",borderBottomRightRadius:"$rounded20",py:"$spacing8",px:"$spacing16",children:e})}function u({token0:e,token1:n,currencyAmounts:o,currencyBalances:u,currencyAmountsUSDValue:p,formattedAmounts:x,onUserInput:v,onSetMax:g,deposit0Disabled:h,deposit1Disabled:j,token0UnderCardComponent:y,token1UnderCardComponent:m}){var b,E,$,T,f,C,O,I;const[S,K]=(0,s.useState)(t.I.TOKEN0),P=(0,r.Ts)(e),N=(0,r.Ts)(n),w=e=>n=>{v(e,n)},k=e=>n=>{K(e),g(e,n)};return(0,i.jsxs)(a.s,{gap:"$gap4",children:[!h&&(0,i.jsxs)(a.s,{gap:2,children:[(0,i.jsx)(l.CurrencyInputPanel,{enableInputOnly:!0,focus:S===t.I.TOKEN0,borderTopLeftRadius:"$rounded20",borderTopRightRadius:"$rounded20",borderBottomLeftRadius:y?"$rounded0":"$rounded20",borderBottomRightRadius:y?"$rounded0":"$rounded20",backgroundColor:"$surface2",currencyInfo:P,currencyField:c.CurrencyField.INPUT,currencyAmount:null===(b=o)||void 0===b?void 0:b[t.I.TOKEN0],currencyBalance:null===(E=u)||void 0===E?void 0:E[t.I.TOKEN0],onSetExactAmount:w(t.I.TOKEN0),onToggleIsFiatMode:()=>{},usdValue:null===($=p)||void 0===$?void 0:$[t.I.TOKEN0],onSetMax:k(t.I.TOKEN0),value:null===(T=x)||void 0===T?void 0:T[t.I.TOKEN0],onPressIn:()=>K(t.I.TOKEN0)}),y&&(0,i.jsx)(d,{children:y})]}),!j&&(0,i.jsxs)(a.s,{gap:2,children:[(0,i.jsx)(l.CurrencyInputPanel,{enableInputOnly:!0,focus:S===t.I.TOKEN1,py:"$spacing16",borderTopLeftRadius:"$rounded20",borderTopRightRadius:"$rounded20",borderBottomLeftRadius:m?"$rounded0":"$rounded20",borderBottomRightRadius:m?"$rounded0":"$rounded20",backgroundColor:"$surface2",currencyInfo:N,currencyField:c.CurrencyField.INPUT,currencyAmount:null===(f=o)||void 0===f?void 0:f[t.I.TOKEN1],currencyBalance:null===(C=u)||void 0===C?void 0:C[t.I.TOKEN1],onSetExactAmount:w(t.I.TOKEN1),onToggleIsFiatMode:()=>{},usdValue:null===(O=p)||void 0===O?void 0:O[t.I.TOKEN1],onSetMax:k(t.I.TOKEN1),value:null===(I=x)||void 0===I?void 0:I[t.I.TOKEN1],onPressIn:()=>K(t.I.TOKEN1)}),m&&(0,i.jsx)(d,{children:m})]})]})}},73439:(e,n,o)=>{o.r(n),o.d(n,{default:()=>Fe});var i=o(95682),r=o(58793),s=o(55282),t=o(22161),a=o(17376),l=o(61033),c=o(43442),d=o(56068),u=o(70819),p=o(96620),x=o(95217),v=o(19413),g=o(88024),h=o(41411),j=o(34373),y=o(92964),m=o(65475),b=o(87873),E=o(6913),$=o(35480),T=o(79253),f=o(14021),C=o(88016),O=o(35628),I=o(95020);function S(){const{t:e}=(0,$.useTranslation)(),{derivedPositionInfo:{isPoolOutOfSync:n}}=(0,c.o)();return n?(0,i.jsxs)(T.s,{row:!0,gap:"$spacing12",backgroundColor:"$surface2",borderRadius:"$rounded16",p:"$padding12",children:[(0,i.jsx)(T.s,{backgroundColor:"$statusCritical2",p:"$padding12",borderRadius:"$rounded12",mb:"auto",children:(0,i.jsx)(C.AlertTriangleFilled,{color:"$statusCritical",size:"$icon.20"})}),(0,i.jsxs)(T.s,{flexWrap:"wrap",flexShrink:1,gap:"$gap4",children:[(0,i.jsx)(f.EY,{color:"$statusCritical",variant:"body3",children:e("pool.liquidity.outOfSync")}),(0,i.jsx)(f.EY,{variant:"body3",color:"$neutral2",children:e("pool.liquidity.outOfSync.message")}),(0,i.jsx)(O.LearnMoreLink,{url:I.uniswapUrls.helpArticleUrls.poolOutOfSync,textVariant:"buttonLabel4",textColor:"$neutral1"})]})]}):null}var K=o(98145),P=o(4117),N=o(81859),w=o(33962),k=o(61550),R=o(88361),A=o(18989),V=o(63475),D=o(93810),L=o(77845),F=o(14584),Y=o(63115),_=o(94838),z=o(32753),M=o(72817),U=o(55e3),B=o(26179),W=o(2473),H=o(52942),q=o(76234),G=o(15889),J=o(20722),Q=o(85559);function Z({isOpen:e,onClose:n}){var o,s,a,l,p,C,O,I,Z,X,ee,ne,oe,ie,re,se,te,ae,le,ce,de,ue,pe,xe,ve,ge,he,je,ye,me,be,Ee,$e,Te,fe,Ce,Oe,Ie,Se,Ke,Pe,Ne,we,ke,Re,Ae,Ve,De,Le,Fe,Ye,_e,ze;const{positionState:{fee:Me,hook:Ue},derivedPositionInfo:Be}=(0,c.o)(),{derivedPriceRangeInfo:We,priceRangeState:{priceInverted:He}}=(0,c.DL)(),{derivedDepositInfo:qe}=(0,c.r5)(),{currencies:Ge,protocolVersion:Je,isPoolOutOfSync:Qe,creatingPoolOrPair:Ze}=Be,{formattedAmounts:Xe,currencyAmounts:en,currencyAmountsUSDValue:nn}=qe,on=(0,m.Ts)(null===(s=en)||void 0===s||null===(o=s.TOKEN0)||void 0===o?void 0:o.currency),rn=(0,m.Ts)(null===(l=en)||void 0===l||null===(a=l.TOKEN1)||void 0===a?void 0:a.currency),{formatNumberOrString:sn,formatCurrencyAmount:tn}=(0,W.useLocalizationContext)(),[an,ln]=(0,N.OC)(Ge,He),{formattedPrices:cn}=(0,w.useMemo)((()=>(0,P.MV)(We,sn)),[sn,We]),dn=(0,t.z5)(Je),[un,pn]=(0,w.useState)([]),[xn,vn]=(0,w.useState)(),gn=(0,k.useDispatch)(),{txInfo:hn,gasFeeEstimateUSD:jn,error:yn,refetch:mn}=(0,c.Hc)(),bn=(0,M.useAccountMeta)(),En=(0,b.A)(),$n=(0,Q.F)().chainId,Tn=(0,R.Zp)(),fn=(0,J.useTrace)(),Cn=()=>{vn(void 0)},On=(0,w.useCallback)((()=>{pn([]),vn(void 0),n(),Tn("/positions")}),[n,Tn]),In=(0,w.useMemo)((()=>(0,x.g3)({positionInfo:Be,priceRangeInfo:We})),[Be,We]),Sn=(0,w.useCallback)((()=>{var e,n,o,i,r,s,t;const a=(0,q.isValidLiquidityTxContext)(hn);bn&&(null===(e=bn)||void 0===e?void 0:e.type)===U.AccountType.SignerMnemonic&&a&&(null===(n=en)||void 0===n?void 0:n.TOKEN0)&&(null===(o=en)||void 0===o?void 0:o.TOKEN1)&&gn(A.f.actions.trigger({selectChain:En,startChainId:$n,account:bn,liquidityTxContext:hn,setCurrentStep:vn,setSteps:pn,onSuccess:On,onFailure:Cn,analytics:{...(0,g.J)({trace:fn,version:Je,fee:Me.feeAmount,currency0:en.TOKEN0.currency,currency1:en.TOKEN1.currency,currency0AmountUsd:null===(i=nn)||void 0===i?void 0:i.TOKEN0,currency1AmountUsd:null===(r=nn)||void 0===r?void 0:r.TOKEN1,poolId:(0,N.Kg)(Be),chainId:$n}),expectedAmountBaseRaw:(null===(s=en.TOKEN0.quotient)||void 0===s?void 0:s.toString())??"0",expectedAmountQuoteRaw:(null===(t=en.TOKEN1.quotient)||void 0===t?void 0:t.toString())??"0",createPool:Ze,createPosition:!0}}))}),[hn,bn,null===(p=en)||void 0===p?void 0:p.TOKEN0,null===(C=en)||void 0===C?void 0:C.TOKEN1,gn,En,$n,On,fn,Je,Me.feeAmount,null===(O=nn)||void 0===O?void 0:O.TOKEN0,null===(I=nn)||void 0===I?void 0:I.TOKEN1,Ze,Be]);return(0,i.jsx)(z.Modal,{name:H.ModalName.CreatePosition,padding:"$none",onClose:n,isDismissible:!0,isModalOpen:e,height:"max-content",children:(0,i.jsxs)(T.s,{px:"$spacing8",pt:"$spacing12",pb:"$spacing8",gap:"$spacing24",children:[(0,i.jsxs)(T.s,{px:"$spacing12",children:[(0,i.jsx)(j.l,{title:(0,i.jsx)(f.EY,{variant:"subheading2",color:"$neutral2",children:(0,i.jsx)($.Trans,{i18nKey:"position.create.modal.header"})}),closeModal:()=>n()}),(0,i.jsxs)(T.s,{py:"$spacing12",gap:"$spacing12",mt:"$spacing16",children:[(0,i.jsxs)(T.s,{row:!0,alignItems:"center",justifyContent:"space-between",children:[(0,i.jsxs)(T.s,{children:[(0,i.jsxs)(T.s,{row:!0,gap:"$gap8",children:[(0,i.jsx)(f.EY,{variant:"heading3",children:null===(ee=en)||void 0===ee||null===(X=ee.TOKEN0)||void 0===X||null===(Z=X.currency)||void 0===Z?void 0:Z.symbol}),(0,i.jsx)(f.EY,{variant:"heading3",children:"/"}),(0,i.jsx)(f.EY,{variant:"heading3",children:null===(ie=en)||void 0===ie||null===(oe=ie.TOKEN1)||void 0===oe||null===(ne=oe.currency)||void 0===ne?void 0:ne.symbol})]}),(0,i.jsx)(T.s,{row:!0,gap:2,alignItems:"center",children:(0,i.jsx)(v.S,{size:"small",versionLabel:dn,v4hook:Ue,feeTier:Me.feeAmount})})]}),(0,i.jsx)(h.g,{currencies:[null===(se=en)||void 0===se||null===(re=se.TOKEN0)||void 0===re?void 0:re.currency,null===(ae=en)||void 0===ae||null===(te=ae.TOKEN1)||void 0===te?void 0:te.currency],size:L.iconSizes.icon36})]}),(Je===r.ProtocolVersion.V3||Je===r.ProtocolVersion.V4)&&(0,i.jsxs)(i.Fragment,{children:[!Ze&&!!In&&(0,i.jsx)(x.rG,{width:"100%",...In}),(0,i.jsxs)(T.s,{row:!0,children:[(0,i.jsxs)(T.s,{fill:!0,gap:"$gap4",children:[(0,i.jsx)(f.EY,{variant:"body3",color:"$neutral2",children:(0,i.jsx)($.Trans,{i18nKey:"common.min"})}),(0,i.jsx)(f.EY,{variant:"body3",children:`${cn[0]} ${(null===(le=ln)||void 0===le?void 0:le.symbol)+"/"+(null===(ce=an)||void 0===ce?void 0:ce.symbol)}`})]}),(0,i.jsxs)(T.s,{fill:!0,gap:"$gap4",children:[(0,i.jsx)(f.EY,{variant:"body3",color:"$neutral2",children:(0,i.jsx)($.Trans,{i18nKey:"common.max"})}),(0,i.jsx)(f.EY,{variant:"body3",children:`${cn[1]} ${(null===(de=ln)||void 0===de?void 0:de.symbol)+"/"+(null===(ue=an)||void 0===ue?void 0:ue.symbol)}`})]})]})]})]}),Ze&&(0,i.jsxs)(T.s,{gap:"$spacing12",mt:"$spacing32",children:[(0,i.jsx)(f.EY,{variant:"body3",color:"$neutral2",children:(0,i.jsx)($.Trans,{i18nKey:"position.initialPrice"})}),(0,i.jsx)(E.A,{variant:"body1",price:null===(pe=We)||void 0===pe?void 0:pe.price,base:an,quote:ln})]}),(0,i.jsxs)(T.s,{gap:"$spacing12",pb:"$spacing8",mt:"$spacing32",children:[(0,i.jsx)(f.EY,{variant:"body3",color:"$neutral2",children:(0,i.jsx)($.Trans,{i18nKey:"common.depositing"})}),(0,i.jsxs)(T.s,{row:!0,justifyContent:"space-between",children:[(0,i.jsxs)(T.s,{gap:"$gap4",children:[(0,i.jsxs)(T.s,{row:!0,gap:"$gap8",children:[(0,i.jsx)(f.EY,{variant:"body1",children:null===(xe=Xe)||void 0===xe?void 0:xe.TOKEN0}),(0,i.jsx)(f.EY,{variant:"body1",children:null===(ge=en)||void 0===ge||null===(ve=ge.TOKEN0)||void 0===ve?void 0:ve.currency.symbol})]}),(0,i.jsx)(f.EY,{variant:"body3",color:"$neutral2",children:tn({value:null===(he=nn)||void 0===he?void 0:he.TOKEN0,type:G.NumberType.FiatTokenPrice})})]}),(0,i.jsx)(_.TokenLogo,{size:L.iconSizes.icon36,chainId:null===(me=en)||void 0===me||null===(ye=me.TOKEN0)||void 0===ye||null===(je=ye.currency)||void 0===je?void 0:je.chainId,name:null===($e=en)||void 0===$e||null===(Ee=$e.TOKEN0)||void 0===Ee||null===(be=Ee.currency)||void 0===be?void 0:be.name,symbol:null===(Ce=en)||void 0===Ce||null===(fe=Ce.TOKEN0)||void 0===fe||null===(Te=fe.currency)||void 0===Te?void 0:Te.symbol,url:null===(Oe=on)||void 0===Oe?void 0:Oe.logoUrl})]}),(0,i.jsxs)(T.s,{row:!0,justifyContent:"space-between",children:[(0,i.jsxs)(T.s,{gap:"$gap4",children:[(0,i.jsxs)(T.s,{row:!0,gap:"$gap8",children:[(0,i.jsx)(f.EY,{variant:"body1",children:null===(Ie=Xe)||void 0===Ie?void 0:Ie.TOKEN1}),(0,i.jsx)(f.EY,{variant:"body1",children:null===(Ke=en)||void 0===Ke||null===(Se=Ke.TOKEN1)||void 0===Se?void 0:Se.currency.symbol})]}),(0,i.jsx)(f.EY,{variant:"body3",color:"$neutral2",children:tn({value:null===(Pe=nn)||void 0===Pe?void 0:Pe.TOKEN1,type:G.NumberType.FiatTokenPrice})})]}),(0,i.jsx)(_.TokenLogo,{size:L.iconSizes.icon36,chainId:null===(ke=en)||void 0===ke||null===(we=ke.TOKEN1)||void 0===we||null===(Ne=we.currency)||void 0===Ne?void 0:Ne.chainId,name:null===(Ve=en)||void 0===Ve||null===(Ae=Ve.TOKEN1)||void 0===Ae||null===(Re=Ae.currency)||void 0===Re?void 0:Re.name,symbol:null===(Fe=en)||void 0===Fe||null===(Le=Fe.TOKEN1)||void 0===Le||null===(De=Le.currency)||void 0===De?void 0:De.symbol,url:null===(Ye=rn)||void 0===Ye?void 0:Ye.logoUrl})]})]}),yn&&(0,i.jsx)(K.O,{refetch:mn}),(0,i.jsx)(S,{})]}),xn&&un.length>1?(0,i.jsx)(F.ProgressIndicator,{steps:un,currentStep:xn}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(V.w,{mx:"$padding12"}),(0,i.jsx)(T.s,{mx:"$padding12",children:(0,i.jsx)(y.H,{LineItem:{Label:()=>(0,i.jsx)(f.EY,{variant:"body3",color:"$neutral2",children:(0,i.jsx)($.Trans,{i18nKey:"common.networkCost"})}),Value:()=>{var e;return(0,i.jsxs)(T.s,{row:!0,gap:"$gap4",alignItems:"center",children:[(0,i.jsx)(Y.NetworkLogo,{chainId:(null===(e=an)||void 0===e?void 0:e.chainId)||B.UniverseChainId.Mainnet,size:L.iconSizes.icon16,shape:"square"}),(0,i.jsx)(f.EY,{variant:"body3",children:tn({value:jn,type:G.NumberType.FiatGasPrice})})]})}}})}),xn?(0,i.jsx)(d.K,{disabled:!0,loading:!0,buttonKey:"create-position-confirm",children:(0,i.jsx)(f.EY,{variant:"buttonLabel1",color:"$white",children:(0,i.jsx)($.Trans,{i18nKey:"common.confirmWallet"})})}):Qe&&(null===(_e=hn)||void 0===_e?void 0:_e.action)?(0,i.jsx)(u.Jk,{error:!0,$borderRadius:"20px",onClick:Sn,children:(0,i.jsx)($.Trans,{i18nKey:"common.button.create"})}):(0,i.jsx)(D.$,{flex:1,py:"$spacing16",px:"$spacing20",onPress:Sn,disabled:!(null===(ze=hn)||void 0===ze?void 0:ze.action),children:(0,i.jsx)(f.EY,{variant:"buttonLabel1",color:"$neutralContrast",children:(0,i.jsx)($.Trans,{i18nKey:"common.button.create"})})})]})]})})}const X=({...e})=>{var n,o,r;const{derivedPositionInfo:{currencies:s,isPoolOutOfSync:t}}=(0,c.o)(),{derivedPriceRangeInfo:a}=(0,c.DL)(),{setDepositState:l,derivedDepositInfo:{formattedAmounts:x,currencyAmounts:v,currencyAmountsUSDValue:g,currencyBalances:h,error:j}}=(0,c.r5)(),{txInfo:y,error:m}=(0,c.Hc)(),[b,E]=(0,w.useState)(!1),C=(0,w.useCallback)((()=>{E(!0)}),[]),[O,I]=s;if(!O||!I)return null;const{deposit0Disabled:S,deposit1Disabled:K}=a,N=!!j||!(null===(n=y)||void 0===n?void 0:n.txRequest);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(P.mc,{...e,children:[(0,i.jsx)(T.s,{gap:32,children:(0,i.jsxs)(T.s,{gap:"$spacing4",children:[(0,i.jsx)(f.EY,{variant:"subheading1",children:(0,i.jsx)($.Trans,{i18nKey:"common.depositTokens"})}),(0,i.jsx)(f.EY,{variant:"body3",color:"$neutral2",children:(0,i.jsx)($.Trans,{i18nKey:"position.deposit.description"})})]})}),(0,i.jsx)(p.x,{token0:O,token1:I,formattedAmounts:x,currencyAmounts:v,currencyAmountsUSDValue:g,currencyBalances:h,onUserInput:(e,n)=>{l((o=>({exactField:e,exactAmounts:{...o.exactAmounts,[e]:n}})))},onSetMax:(e,n)=>{l((o=>({exactField:e,exactAmounts:{...o.exactAmounts,[e]:n}})))},deposit0Disabled:S,deposit1Disabled:K}),!t||N?(0,i.jsx)(d.K,{flex:1,py:"$spacing16",px:"$spacing20",onPress:C,disabled:N,buttonKey:"Position-Create-DepositButton",loading:Boolean(!m&&!j&&!(null===(o=y)||void 0===o?void 0:o.txRequest)&&(null===(r=v)||void 0===r?void 0:r.TOKEN0)&&v.TOKEN1),children:(0,i.jsx)(f.EY,{variant:"buttonLabel1",color:"$neutralContrast",children:j||(0,i.jsx)($.Trans,{i18nKey:"swap.button.review"})})}):(0,i.jsx)(u.Jk,{error:!0,$borderRadius:"20px",onClick:C,children:(0,i.jsx)($.Trans,{i18nKey:"swap.button.review"})})]}),(0,i.jsx)(Z,{isOpen:b,onClose:()=>E(!1)})]})};var ee=o(5407),ne=o(60836),oe=o(73621),ie=o(77258),re=o.n(ie);function se(){return se=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},se.apply(this,arguments)}function te(e,n){if(null==e)return{};var o,i,r=function(e,n){if(null==e)return{};var o,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)o=s[i],n.indexOf(o)>=0||(r[o]=e[o]);return r}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)o=s[i],n.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var ae=(0,w.forwardRef)((function(e,n){var o=e.color,i=void 0===o?"currentColor":o,r=e.size,s=void 0===r?24:r,t=te(e,["color","size"]);return w.createElement("svg",se({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),w.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))}));ae.propTypes={color:re().string,size:re().oneOfType([re().string,re().number])},ae.displayName="HelpCircle";const le=ae;var ce=o(4163),de=o(49089);function ue({isOpen:e,onClose:n,onHandleReset:o}){const r=(0,de.D)();return(0,i.jsxs)(z.Modal,{name:H.ModalName.ResetCreatePositionsForm,onClose:n,isDismissible:!0,gap:"$gap24",padding:"$padding16",height:"max-content",isModalOpen:e,maxWidth:420,children:[(0,i.jsxs)(T.s,{row:!0,justifyContent:"flex-end",alignItems:"center",gap:"$spacing8",width:"100%",children:[(0,i.jsx)(oe.A,{}),(0,i.jsx)(ce.US,{stroke:r.neutral2.val,onClick:n,size:L.iconSizes.icon24})]}),(0,i.jsxs)(T.s,{flexDirection:"column",alignItems:"center",gap:"$spacing16",children:[(0,i.jsx)(T.s,{gap:"$gap16",backgroundColor:"$surface3",borderRadius:"$rounded12",p:"$spacing12",children:(0,i.jsx)(le,{stroke:r.neutral1.val,size:20})}),(0,i.jsxs)(T.s,{centered:!0,rowGap:"$spacing2",children:[(0,i.jsx)(f.EY,{variant:"subheading1",children:(0,i.jsx)($.Trans,{i18nKey:"common.areYouSure"})}),(0,i.jsx)(f.EY,{variant:"body2",color:"$neutral2",px:"$spacing8",textAlign:"center",children:(0,i.jsx)($.Trans,{i18nKey:"position.resetDescription"})})]}),(0,i.jsxs)(T.s,{row:!0,gap:"$spacing8",width:"100%",mt:"$spacing8",children:[(0,i.jsx)(D.$,{theme:"secondary",borderRadius:"12px",py:"$spacing8",flex:1,onPress:n,children:(0,i.jsx)(f.EY,{variant:"buttonLabel3",color:"$neutralContrast",children:(0,i.jsx)($.Trans,{i18nKey:"common.button.cancel"})})}),(0,i.jsx)(D.$,{theme:"tertiary",py:"$spacing8",backgroundColor:"$accent3",borderRadius:"12px",hoverStyle:{backgroundColor:void 0,opacity:.8},pressStyle:{backgroundColor:void 0},flex:1,onPress:()=>{o(),n()},children:(0,i.jsx)(f.EY,{variant:"buttonLabel3",color:"$surface1",children:(0,i.jsx)($.Trans,{i18nKey:"common.button.reset"})})})]})]})]})}var pe=o(69646),xe=o(46656),ve=o(73645),ge=o(46192),he=o(98726),je=o(74445),ye=o(66249),me=o(82291),be=o(23848),Ee=o(13975),$e=o(1406),Te=o(31818),fe=o(34748),Ce=o(34546),Oe=o(45805),Ie=o(53195),Se=o(98879),Ke=o(25254),Pe=o(10751),Ne=o(17544),we=o(91404),ke=o(45714);function Re(){const{derivedPositionInfo:e}=(0,c.o)(),n=(0,ke.usePrevious)(e.creatingPoolOrPair)&&e.poolOrPairLoading;return n||e.creatingPoolOrPair?(0,i.jsxs)(T.s,{row:!0,gap:"$spacing12",p:"$spacing12",borderWidth:1,borderColor:"$surface3",borderRadius:"$rounded16",opacity:n?.4:1,children:[(0,i.jsx)(be.InfoCircleFilled,{flexShrink:0,size:L.iconSizes.icon20,color:"$neutral2"}),(0,i.jsxs)(T.s,{flexWrap:"wrap",flexShrink:1,gap:"$gap4",children:[(0,i.jsx)(f.EY,{variant:"body3",children:(0,i.jsx)($.Trans,{i18nKey:"pool.create"})}),(0,i.jsx)(f.EY,{variant:"body3",color:"$neutral2",children:(0,i.jsx)($.Trans,{i18nKey:"pool.create.info"})})]})]}):null}function Ae(){const{positionState:{protocolVersion:e},derivedPositionInfo:{creatingPoolOrPair:n},step:o,setStep:s}=(0,c.o)(),t=e===r.ProtocolVersion.V2,{error:a,refetch:l}=(0,c.Hc)(),d=(0,w.useCallback)((()=>{t?o===ve.C4.SELECT_TOKENS_AND_FEE_TIER&&n?s(ve.C4.PRICE_RANGE):s(ve.C4.DEPOSIT):s((e=>e+1))}),[n,s,o,t]);return o===ve.C4.SELECT_TOKENS_AND_FEE_TIER?(0,i.jsxs)(Ie.default,{logImpression:!0,section:H.SectionName.CreatePositionSelectTokensStep,children:[(0,i.jsx)(pe.n,{onContinue:d}),(0,i.jsx)(Re,{})]}):o===ve.C4.PRICE_RANGE?(0,i.jsxs)(Ie.default,{logImpression:!0,section:H.SectionName.CreatePositionPriceRangeStep,children:[(0,i.jsx)(ee.h,{}),t?(0,i.jsx)(ne.B,{onContinue:d}):(0,i.jsx)(ne.H,{onContinue:d}),(0,i.jsx)(Re,{})]}):(0,i.jsxs)(Ie.default,{logImpression:!0,section:H.SectionName.CreatePositionDepositStep,children:[(0,i.jsx)(ee.h,{}),!t&&(0,i.jsx)(ee.s,{}),(0,i.jsx)(X,{}),a&&(0,i.jsx)(K.O,{refetch:l})]})}const Ve=()=>{const{t:e}=(0,$.useTranslation)(),{positionState:{protocolVersion:n},derivedPositionInfo:{creatingPoolOrPair:o},step:s,setStep:t}=(0,c.o)(),l=(0,w.useMemo)((()=>{const i=(e,n)=>({label:e,active:s===n,onPress:n<s?()=>t(n):void 0});return n===r.ProtocolVersion.V2?o?[i(e("position.step.select"),ve.C4.SELECT_TOKENS_AND_FEE_TIER),i(e("position.step.price"),ve.C4.PRICE_RANGE),i(e("position.step.deposit"),ve.C4.DEPOSIT)]:[i(e("position.step.select"),ve.C4.SELECT_TOKENS_AND_FEE_TIER),i(e("position.step.deposit"),ve.C4.DEPOSIT)]:[i(e("position.step.select"),ve.C4.SELECT_TOKENS_AND_FEE_TIER),i(e("position.step.range"),ve.C4.PRICE_RANGE),i(e("position.step.deposit"),ve.C4.DEPOSIT)]}),[o,n,t,s,e]);return(0,i.jsx)(T.s,{width:360,alignSelf:"flex-start","$platform-web":{position:"sticky",top:we.INTERFACE_NAV_HEIGHT+25},children:(0,i.jsx)(a.d,{steps:l})})},De=({onClickReset:e,isDisabled:n})=>(0,i.jsxs)(D.$,{theme:"tertiary",py:"10px",px:"$spacing12",backgroundColor:"$surface1",borderRadius:"$rounded12",borderColor:"$surface3",borderWidth:"$spacing1",gap:"$gap4",onPress:e,disabled:n,flex:1,children:[(0,i.jsx)($e.B,{size:L.iconSizes.icon16,color:"$neutral1"}),(0,i.jsx)(f.EY,{variant:"buttonLabel3",lineHeight:"16px",children:(0,i.jsx)($.Trans,{i18nKey:"common.button.reset"})})]}),Le=({defaultInitialToken:e,isV4DataEnabled:n})=>{const o=(0,R.Zp)(),{positionState:s,setPositionState:a,setStep:l,reset:d}=(0,c.o)(),{protocolVersion:u}=s,{setPriceRangeState:p}=(0,c.DL)(),[x,v]=(0,w.useState)(!1),{priceRangeState:g,reset:h}=(0,c.DL)(),{depositState:j,reset:y}=(0,c.r5)(),{reset:m}=(0,je.H)(),{isTestnetModeEnabled:b}=(0,fe.useEnabledChains)(),E=(0,ke.usePrevious)(b)??!1,C=(0,w.useMemo)((()=>s.currencyInputs.TOKEN0===e&&!s.currencyInputs.TOKEN1&&s.fee===ve.gU.fee&&s.hook===ve.gU.hook&&g.initialPrice===c.EP.initialPrice&&j===c.fR),[s.currencyInputs,s.fee,s.hook,g,j,e]),O=(0,w.useCallback)((()=>{d(),h(),m(),y()}),[y,d,m,h]);(0,w.useEffect)((()=>{b!==E&&O()}),[O,b,E]);const I=(0,w.useCallback)((e=>{const n=(0,t.z5)(e);n&&o(`/positions/create/${n}`),a((n=>({...ve.gU,currencyInputs:n.currencyInputs,protocolVersion:e}))),p(c.EP),l(ve.C4.SELECT_TOKENS_AND_FEE_TIER)}),[a,p,l,o]),S=(0,w.useMemo)((()=>(n?[r.ProtocolVersion.V4,r.ProtocolVersion.V3,r.ProtocolVersion.V2]:[r.ProtocolVersion.V3,r.ProtocolVersion.V2]).filter((e=>e!=u)).map((e=>({key:`version-${e}`,onPress:()=>I(e),render:()=>(0,i.jsx)(T.s,{p:"$spacing8",children:(0,i.jsx)(f.EY,{variant:"body2",children:(0,i.jsx)($.Trans,{i18nKey:"position.new.protocol",values:{protocol:(0,t.z5)(e)}})})})})))),[I,u,n]);return(0,i.jsxs)(T.s,{flexDirection:"row-reverse",gap:"$gap8",centered:!0,$md:{justifyContent:"flex-end"},children:[(0,i.jsx)(T.s,{p:"$spacing6",borderRadius:"$rounded12",borderWidth:"$spacing1",borderColor:"$surface3",children:(0,i.jsx)(Pe.SwapFormSettings,{position:"relative",adjustRightAlignment:!1,adjustTopAlignment:!1,settings:[Ne.B],iconColor:"$neutral1",iconSize:"$icon.16"})}),(0,i.jsx)(Te.ActionSheetDropdown,{options:S,showArrow:!1,closeOnSelect:!0,styles:{dropdownMinWidth:200,buttonPaddingY:"$none"},children:(0,i.jsxs)(T.s,{row:!0,py:"$spacing8",px:"$spacing12",alignItems:"center",backgroundColor:"$surface1",borderRadius:"$rounded12",borderColor:"$surface3",borderWidth:"$spacing1",gap:"$gap4",children:[(0,i.jsx)(f.EY,{variant:"buttonLabel3",lineHeight:"16px",children:(0,i.jsx)($.Trans,{i18nKey:"position.protocol",values:{protocol:(0,t.z5)(u)}})}),(0,i.jsx)(Ee.RotatableChevron,{direction:"down",color:"$neutral2",width:L.iconSizes.icon20,height:L.iconSizes.icon20})]})}),(0,i.jsx)(De,{onClickReset:()=>v(!0),isDisabled:C}),(0,i.jsx)(ue,{isOpen:x,onClose:()=>v(!1),onHandleReset:O})]})};function Fe(){const{value:e,isLoading:n}=(0,Oe.useFeatureFlagWithLoading)(Ce.FeatureFlags.LPRedesign),o=(0,Oe.useFeatureFlag)(Ce.FeatureFlags.V4Data),a=(0,me.Qf)(),{protocolVersion:c}=(0,R.g)(),d=(0,t.IN)(c),u=(0,xe.Cr)(),p=(0,w.useMemo)((()=>o?d??r.ProtocolVersion.V4:d&&d!==r.ProtocolVersion.V4?d:r.ProtocolVersion.V3),[o,d]);return n||e?n?null:(0,i.jsx)(Ie.default,{logImpression:!0,page:H.InterfacePageNameLocal.CreatePosition,children:(0,i.jsx)(he.b,{initialChainId:u[ye.I.TOKEN0].chainId,children:(0,i.jsx)(Se.TransactionSettingsContextProvider,{settingKey:Ke.TransactionSettingKey.LP,children:(0,i.jsx)(l.Cy,{initialState:{currencyInputs:u,protocolVersion:p},children:(0,i.jsx)(l.$A,{children:(0,i.jsx)(l.NM,{children:(0,i.jsx)(l.D$,{children:(0,i.jsxs)(T.s,{mt:"$spacing24",width:"100%",px:"$spacing40",maxWidth:1200,$lg:{px:"$spacing6"},children:[(0,i.jsxs)(s.AF,{"aria-label":"breadcrumb-nav",children:[(0,i.jsxs)(s.TV,{to:"/positions",children:[(0,i.jsx)($.Trans,{i18nKey:"pool.positions.title"})," ",(0,i.jsx)(ge.A,{size:14})]}),(0,i.jsx)(s.TV,{to:"/positions/create",children:(0,i.jsx)($.Trans,{i18nKey:"pool.newPosition.title"})})]}),(0,i.jsxs)(T.s,{row:!0,alignSelf:"flex-end",gap:"$gap20",width:"100%",maxWidth:1040,justifyContent:"space-between",mr:"auto",mb:"$spacing32",$xl:{maxWidth:600},$md:{flexDirection:"column"},children:[(0,i.jsx)(f.EY,{variant:"heading2",children:(0,i.jsx)($.Trans,{i18nKey:"position.new"})}),(0,i.jsx)(Le,{defaultInitialToken:u[ye.I.TOKEN0],isV4DataEnabled:o})]}),(0,i.jsxs)(T.s,{row:!0,gap:80,width:"100%",children:[!a.xl&&(0,i.jsx)(Ve,{}),(0,i.jsxs)(T.s,{gap:"$spacing24",flex:1,maxWidth:600,mb:"$spacing28",children:[(0,i.jsx)(Ae,{}),(0,i.jsx)(S,{})]})]})]})})})})})})})}):(0,i.jsx)(R.C5,{to:"/pools",replace:!0})}}}]);
//# sourceMappingURL=3439.aadcb982.chunk.js.map