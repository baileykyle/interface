"use strict";(self.webpackChunk_uniswap_interface=self.webpackChunk_uniswap_interface||[]).push([[4410],{27753:(e,o,n)=>{n.r(o),n.d(o,{default:()=>ue});var s=n(95682);const i=n.p+"static/media/provideLiquidity.683eb2157047fe63f334.png";var r=n(58793);const t=n.p+"static/media/v4Hooks.a1c86a193a16160daac2.png";var a=n(15260),l=n(48070),d=n(96480),c=n(22161),p=n(11292),u=n(2499),h=n(78135),g=n(5150),x=n(65071),j=n(87112),$=n(55837),b=n(33962),m=n(35480),v=n(88361),f=n(4163),y=n(79253),w=n(89093),C=n(14021),P=n(61496),L=n(13975),S=n(72999),k=n(99526),I=n(34748),E=n(34546),V=n(45805);const F={borderRadius:"$rounded16",py:"$padding8",px:"$padding12",backgroundColor:"$surface3",borderWidth:0,hoverStyle:{...f.oO.hoverStyle,backgroundColor:"none"}};function O({showFilters:e=!0,selectedChain:o,selectedVersions:n,selectedStatus:i,onChainChange:t,onVersionChange:a,onStatusChange:l}){const{t:d}=(0,m.useTranslation)(),{isConnected:p}=(0,h.F)(),{chains:u}=(0,I.useEnabledChains)(),g=(0,v.Zp)(),x=(0,V.useFeatureFlag)(E.FeatureFlags.V4Data),O=(0,b.useMemo)((()=>x?[r.ProtocolVersion.V4,r.ProtocolVersion.V3,r.ProtocolVersion.V2]:[r.ProtocolVersion.V3,r.ProtocolVersion.V2]),[x]),R=(0,b.useMemo)((()=>[r.PositionStatus.IN_RANGE,r.PositionStatus.OUT_OF_RANGE,r.PositionStatus.CLOSED].map((e=>{var o;const n=$.T[e];return n?(0,s.jsxs)(y.s,{row:!0,gap:"$spacing8",width:"100%",justifyContent:"space-between",alignItems:"center",children:[(0,s.jsx)(S.O,{color:n.color}),(0,s.jsx)(w.R,{py:"$spacing4",size:"$icon.18",hoverStyle:{opacity:.8,backgroundColor:"unset"},containerStyle:{flex:1},checkboxPosition:"end",checked:(null===(o=i)||void 0===o?void 0:o.includes(e))??!1,text:(0,c.Zg)(e,d),onCheckPressed:()=>l(e)})]},`PositionsHeader-status-${e}`):null}))),[i,l,d]),A=(0,b.useMemo)((()=>O.map((e=>{var o;return(0,s.jsx)(w.R,{py:"$spacing4",hoverStyle:{opacity:.8,backgroundColor:"unset"},checkboxPosition:"end",checked:(null===(o=n)||void 0===o?void 0:o.includes(e))??!1,text:(0,c.z5)(e),onCheckPressed:()=>a(e)},`PositionsHeader-version-${e}`)}))),[O,n,a]),T=(0,b.useMemo)((()=>O.map((e=>{const o=(0,c.z5)(e);return(0,s.jsx)(y.s,{p:"$spacing8",...f.oO,onPress:()=>{g(`/positions/create/${o}`)},children:(0,s.jsx)(C.EY,{variant:"body2",children:(0,s.jsx)(m.Trans,{i18nKey:"position.new.protocol",values:{protocol:o}})})},`PositionsHeader-create-${o}`)}))),[g,O]),[Y,_]=(0,b.useState)(!1),[D,M]=(0,b.useState)(!1),[N,z]=(0,b.useState)(!1);return(0,s.jsxs)(y.s,{gap:16,children:[(0,s.jsx)(C.EY,{variant:"heading3",children:d("pool.positions.title")}),p&&(0,s.jsxs)(y.s,{gap:"$gap8",row:!0,$sm:{flexDirection:"column"},children:[(0,s.jsxs)(y.s,{gap:"$spacing1",row:!0,children:[(0,s.jsxs)(y.s,{row:!0,gap:"$gap8",px:"$padding16",backgroundColor:"$neutral1",borderTopLeftRadius:"$rounded16",borderBottomLeftRadius:"$rounded16",alignItems:"center",$sm:{justifyContent:"center"},justifyContent:"flex-start",flex:1,...f.oO,onPress:()=>{g("/positions/create/"+(x?"v4":"v3"))},children:[(0,s.jsx)(P.F,{size:20,color:"$surface1"}),(0,s.jsx)(C.EY,{color:"$surface1",variant:"buttonLabel3",children:d("common.new")})]}),(0,s.jsx)(j.V,{containerStyle:{width:"auto"},menuLabel:(0,s.jsx)(y.s,{borderTopRightRadius:"$rounded16",borderBottomRightRadius:"$rounded16",backgroundColor:"$neutral1",justifyContent:"center",alignItems:"center",p:"$padding8",...f.oO,children:(0,s.jsx)(L.RotatableChevron,{direction:"down",height:20,width:20,color:"$surface1"})}),buttonStyle:{borderWidth:0,p:0},dropdownStyle:{width:160},internalMenuItems:(0,s.jsx)(s.Fragment,{children:T}),hideChevron:!0,isOpen:Y,toggleOpen:()=>{_((e=>!e))}})]}),e&&(0,s.jsxs)(y.s,{row:!0,alignItems:"center",shrink:!0,height:"100%",gap:"$gap4",children:[(0,s.jsx)(j.V,{isOpen:D,toggleOpen:()=>{M((e=>!e))},menuLabel:(0,s.jsx)(C.EY,{variant:"buttonLabel3",children:d("common.status")}),internalMenuItems:(0,s.jsx)(s.Fragment,{children:R}),dropdownStyle:{width:240},buttonStyle:F}),(0,s.jsx)(j.V,{isOpen:N,toggleOpen:()=>z((e=>!e)),menuLabel:(0,s.jsx)(C.EY,{variant:"buttonLabel3",children:d("common.protocol")}),internalMenuItems:(0,s.jsx)(s.Fragment,{children:A}),dropdownStyle:{width:160},buttonStyle:F}),(0,s.jsx)(y.s,{alignItems:"center",justifyContent:"center",backgroundColor:"$surface3",borderRadius:"$rounded16",px:"$padding12",height:"100%",...f.oO,children:(0,s.jsx)(k.NetworkFilter,{includeAllNetworks:!0,selectedChain:o,onPressChain:t,chainIds:u,styles:{buttonPaddingY:"$spacing8"}})})]})]})]})}var R=n(19413),A=n(12520),T=n(41411),Y=n(69220),_=n(11302),D=n(61252),M=n(53769),N=n(12558),z=n(84551),q=n(2473);function K({pool:e}){var o,n,i;const{defaultChainId:r}=(0,I.useEnabledChains)(),{formatPercent:t}=(0,q.useLocalizationContext)(),a=(0,v.Zp)(),l=(0,u._N)(e.chain)??r,d=e.token0?(0,u.d2)((0,u.LA)(l,e.token0)):void 0,c=e.token1?(0,u.d2)((0,u.LA)(l,e.token1)):void 0;return(0,s.jsxs)(y.s,{row:!0,p:"$padding16",borderRadius:"$rounded20",borderColor:"$surface3",borderWidth:1,justifyContent:"space-between",...f.oO,onPress:()=>a(`/explore/pools/${(0,z.toGraphQLChain)(l??r).toLowerCase()}/${e.id}`),children:[(0,s.jsxs)(y.s,{row:!0,gap:"$gap16",children:[(0,s.jsx)(T.K,{chainId:l,currencies:[d,c],size:44}),(0,s.jsxs)(y.s,{gap:"$gap4",children:[(0,s.jsxs)(C.EY,{variant:"subheading2",children:[null===(o=d)||void 0===o?void 0:o.symbol," / ",null===(n=c)||void 0===n?void 0:n.symbol]}),(0,s.jsx)(y.s,{row:!0,gap:2,alignItems:"center",children:(0,s.jsx)(R.S,{size:"small",versionLabel:null===(i=e.protocolVersion)||void 0===i?void 0:i.toLowerCase(),feeTier:e.feeTier})})]})]}),(0,s.jsxs)(C.EY,{variant:"body2",color:"$neutral2",children:[t(e.apr.toFixed(3))," ",(0,s.jsx)(m.Trans,{i18nKey:"pool.apr"})]})]})}function W({chainId:e}){var o;const{t:n}=(0,m.useTranslation)(),{data:i,isLoading:r,error:t}=(0,N.w)({chainId:e?e.toString():M.ALL_NETWORKS_ARG}),{topPools:a}=(0,D._)({data:i,isLoading:r,isError:!!t},{sortDirection:u.qq.Desc,sortBy:Y.o8.TVL});return r?(0,s.jsxs)(A.ar,{children:[(0,s.jsx)(_.FO,{}),(0,s.jsx)(_.FO,{}),(0,s.jsx)(_.FO,{}),(0,s.jsx)(_.FO,{}),(0,s.jsx)(_.FO,{}),(0,s.jsx)(_.FO,{})]}):(0,s.jsxs)(y.s,{gap:"$gap20",children:[(0,s.jsx)(C.EY,{variant:"subheading1",children:(0,s.jsx)(m.Trans,{i18nKey:"pool.top.tvl"})}),(0,s.jsx)(y.s,{gap:"$gap12",children:null===(o=a)||void 0===o?void 0:o.slice(0,6).map((e=>(0,s.jsx)(K,{pool:e},e.id)))}),(0,s.jsx)(_.b,{href:"/explore/pools",openInNewTab:!1,children:n("explore.more.pools")})]})}var U=n(42150),G=n(86396),B=n(36149),H=n(49089),Z=n(93810),Q=n(28273),J=n(82291),X=n(23848),ee=n(53254),oe=n(77845),ne=n(95020),se=n(92876),ie=n(53195),re=n(52942);const te=25;function ae({chainId:e,isConnected:o}){const n=(0,H.D)(),{t:i}=(0,m.useTranslation)(),r=(0,v.Zp)(),t=(0,a.O)(),d=(0,x.useAtomValue)(p.Js),c=(0,x.useAtomValue)(p.KI),h=(0,x.useResetAtom)(p.Js),g=(0,x.useResetAtom)(p.KI);(0,b.useEffect)((()=>{h(),g()}),[g,h]);const{data:j,isLoading:$,error:f}=(0,N.w)({chainId:e?e.toString():M.ALL_NETWORKS_ARG}),{topPools:w}=(0,D._)({data:j,isLoading:$,isError:!!f},{sortBy:d,sortDirection:c?u.qq.Asc:u.qq.Desc});return(0,s.jsxs)(y.s,{gap:"$spacing32",children:[(0,s.jsxs)(y.s,{row:!0,alignItems:"center",justifyContent:"space-between",borderRadius:"$rounded20",borderColor:"$surface3",borderWidth:1,borderStyle:"solid",p:"$padding16",overflow:"hidden",cursor:o?"auto":"pointer",onPress:o?void 0:()=>{t.toggle()},$md:{row:!1,gap:"$gap16",alignItems:"flex-start"},children:[(0,s.jsxs)(y.s,{alignItems:"center",row:!0,gap:"$gap8",children:[(0,s.jsx)(y.s,{p:"$padding8",borderRadius:"$rounded12",backgroundColor:"$accent2",children:(0,s.jsx)(l.b,{width:oe.iconSizes.icon24,height:oe.iconSizes.icon24,color:n.accent1.val})}),(0,s.jsxs)(y.s,{shrink:!0,children:[(0,s.jsx)(C.EY,{variant:"subheading2",children:i(o?"pool.openPosition":"positions.welcome")}),(0,s.jsx)(C.EY,{variant:"body2",color:"$neutral2",children:i(o?"pool.openPosition.cta":"positions.welcome.connect")})]})]}),o&&(0,s.jsx)(Z.$,{theme:"secondary",size:"medium",onPress:()=>r("/explore/pools"),$md:{width:"100%"},children:(0,s.jsx)(C.EY,{children:i("pools.explore")})})]}),(0,s.jsxs)(y.s,{gap:"$gap24",children:[(0,s.jsx)(C.EY,{variant:"subheading1",children:(0,s.jsx)(m.Trans,{i18nKey:"pool.top.tvl"})}),(0,s.jsx)(p.MY,{topPoolData:{topPools:w,isLoading:$,isError:!!f},pageSize:10,staticSize:!0}),(0,s.jsx)(_.b,{href:"/explore/pools",openInNewTab:!1,children:i("explore.more.pools")})]})]})}function le({img:e,text:o,link:n}){return(0,s.jsx)(Q.M,{href:n,textDecorationLine:"none",hoverStyle:{textDecorationLine:"underline"},target:"_blank",rel:"noopener noreferrer",children:(0,s.jsxs)(y.s,{row:!0,width:344,borderRadius:"$rounded20",borderColor:"$surface3",borderWidth:1,borderStyle:"solid",alignItems:"center",gap:"$gap16",overflow:"hidden",children:[(0,s.jsx)("img",{src:e,style:{objectFit:"cover",width:"72px",height:"72px"}}),(0,s.jsx)(C.EY,{variant:"subheading2",children:o})]})})}const de=(0,g.atom)(null),ce=(0,g.atom)([r.ProtocolVersion.V3,r.ProtocolVersion.V2]),pe=(0,g.atom)([r.PositionStatus.IN_RANGE,r.PositionStatus.OUT_OF_RANGE]);function ue(){const{t:e}=(0,m.useTranslation)(),{value:o,isLoading:n}=(0,V.useFeatureFlagWithLoading)(E.FeatureFlags.LPRedesign),a=(0,V.useFeatureFlag)(E.FeatureFlags.V4Data),l=(0,J.Qf)(),[p,u]=(0,g.useAtom)(de),{chains:x}=(0,I.useEnabledChains)(),[j,$]=(0,g.useAtom)(ce),[w,P]=(0,g.useAtom)(pe),[L,S]=(0,b.useState)(!1),k=(0,h.F)(),{address:F,isConnected:R}=k;(0,b.useEffect)((()=>{a&&$([r.ProtocolVersion.V4,r.ProtocolVersion.V3,r.ProtocolVersion.V2])}),[a,$]);const{data:A,isPlaceholderData:T,refetch:Y,isLoading:D,fetchNextPage:M,hasNextPage:N,isFetching:z}=(0,se.i_)({address:F,chainIds:p?[p]:x,positionStatuses:w,protocolVersions:j,pageSize:te,pageToken:""},!R),q=(0,b.useMemo)((()=>{var e;return(null===(e=A)||void 0===e?void 0:e.pages.flatMap((e=>e.positions)))||[]}),[A]),K=(0,B.MQ)(),H=!!k.address&&(D||!A),oe=(0,b.useMemo)((()=>[...q,...K.map((e=>{var o;return null===(o=e.data)||void 0===o?void 0:o.position}))??[]].map(c.rL).filter((e=>!!e))),[q,K]);(0,G.WP)(Y);const ue=!H&&0===oe.length;return n||o?n?null:(0,s.jsx)(ie.default,{logImpression:!0,page:re.InterfacePageNameLocal.Positions,children:(0,s.jsxs)(y.s,{row:!0,$xl:{flexDirection:"column",gap:"$gap16"},width:"100%",maxWidth:1200,gap:80,py:"$spacing24",px:"$spacing40",$lg:{px:"$spacing20"},children:[(0,s.jsxs)(y.s,{grow:!0,shrink:!0,gap:"$spacing24",children:[(0,s.jsx)(O,{showFilters:k.isConnected,selectedChain:p,selectedVersions:j,selectedStatus:w,onChainChange:e=>{u(e??null)},onVersionChange:e=>{var o,n;(null===(o=j)||void 0===o?void 0:o.includes(e))?$(null===(n=j)||void 0===n?void 0:n.filter((o=>o!==e))):$([...j??[],e])},onStatusChange:e=>{var o,n;(null===(o=w)||void 0===o?void 0:o.includes(e))?P(null===(n=w)||void 0===n?void 0:n.filter((o=>o!==e))):P([...w??[],e])}}),H?(0,s.jsx)(y.s,{gap:"$gap16",children:Array.from({length:5},((e,o)=>(0,s.jsx)(d.X,{},o)))}):oe.length>0?(0,s.jsx)(y.s,{gap:"$gap16",mb:"$spacing16",opacity:T?.6:1,children:oe.map((e=>{var o;return e?(0,s.jsx)(U.Link,{style:{textDecoration:"none"},to:(0,c.fB)(e),children:(0,s.jsx)(d.o,{isClickableStyle:!0,liquidityPosition:e},`LiquidityPositionCard-${null===(o=e)||void 0===o?void 0:o.tokenId}`)},`${e.poolId}-${e.tokenId}-${e.chainId}`):null}))}):(0,s.jsx)(ae,{chainId:p,isConnected:R}),N&&(0,s.jsx)(y.s,{mx:"auto",children:(0,s.jsx)(Z.$,{theme:"outline",onPress:()=>{N&&!z&&M()},disabled:z,children:(0,s.jsx)(C.EY,{variant:"buttonLabel3",children:e("common.loadMore")})})}),!w.includes(r.PositionStatus.CLOSED)&&!L&&k.address&&(0,s.jsxs)(y.s,{borderWidth:"$spacing1",borderColor:"$surface3",borderRadius:"$rounded12",mb:"$spacing24",p:"$padding12",gap:"$gap12",row:!0,centered:!0,children:[(0,s.jsx)(y.s,{height:"100%",children:(0,s.jsx)(X.InfoCircleFilled,{color:"$neutral2",size:"$icon.20"})}),(0,s.jsxs)(y.s,{grow:!0,flexBasis:0,children:[(0,s.jsx)(C.EY,{variant:"body3",color:"$neutral1",children:(0,s.jsx)(m.Trans,{i18nKey:"pool.closedCTA.title"})}),(0,s.jsx)(C.EY,{variant:"body3",color:"$neutral2",children:(0,s.jsx)(m.Trans,{i18nKey:"pool.closedCTA.description"})})]}),(0,s.jsx)(y.s,{height:"100%",onPress:()=>S(!0),cursor:"pointer",children:(0,s.jsx)(ee.X,{color:"$neutral2",size:"$icon.20"})})]}),(0,s.jsxs)(y.s,{row:!0,centered:!0,mb:"$spacing24",gap:"$gap4",children:[(0,s.jsx)(C.EY,{variant:"body3",color:"$neutral2",children:e("pool.import.link.description")}),(0,s.jsx)(Q.M,{href:"/pools/v2/find",textDecorationLine:"none",children:(0,s.jsx)(C.EY,{variant:"body3",color:"$neutral1",...f.oO,children:e("pool.import.positions.v2")})})]})]}),(0,s.jsxs)(y.s,{gap:"$gap32",pt:64,$xl:{pt:"$spacing12"},children:[!l.xl&&!ue&&!D&&(0,s.jsx)(W,{chainId:p}),(0,s.jsxs)(y.s,{gap:"$gap20",mb:"$spacing24",children:[(0,s.jsx)(C.EY,{variant:"subheading1",children:e("liquidity.learnMoreLabel")}),(0,s.jsxs)(y.s,{gap:"$gap12",children:[(0,s.jsx)(le,{img:i,text:e("liquidity.provideOnProtocols"),link:ne.uniswapUrls.helpArticleUrls.providingLiquidityInfo}),a&&(0,s.jsx)(le,{img:t,text:e("liquidity.hooks"),link:ne.uniswapUrls.helpArticleUrls.v4HooksInfo})]}),(0,s.jsx)(_.b,{href:ne.uniswapUrls.helpArticleUrls.positionsLearnMore,children:e("common.button.learn")})]})]})]})}):(0,s.jsx)(v.C5,{to:"/pools",replace:!0})}}}]);
//# sourceMappingURL=4410.76111c40.chunk.js.map