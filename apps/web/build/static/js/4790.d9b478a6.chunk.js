"use strict";(self.webpackChunk_uniswap_interface=self.webpackChunk_uniswap_interface||[]).push([[4790],{44790:(e,n,o)=>{o.r(n),o.d(n,{default:()=>Hn});var i=o(95682),r=o(29477),t=o(55282),l=o(46559),a=o(91457);function s(e){return(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.28516 11.9999C1.28516 6.08243 6.08194 1.28564 11.9994 1.28564C17.9169 1.28564 22.7137 6.08243 22.7137 11.9999C22.7137 17.9174 17.9169 22.7142 11.9994 22.7142C6.08194 22.7142 1.28516 17.9174 1.28516 11.9999ZM10.9816 7.49994C10.9816 6.9378 11.4373 6.48209 11.9995 6.48209C12.5616 6.48209 13.0173 6.9378 13.0173 7.49994V14.0426L15.7798 11.2802C16.1772 10.8827 16.8217 10.8827 17.2192 11.2802C17.6167 11.6777 17.6167 12.3222 17.2192 12.7197L12.7192 17.2197C12.3217 17.6172 11.6772 17.6172 11.2798 17.2197L6.77975 12.7197C6.38225 12.3222 6.38225 11.6777 6.77975 11.2802C7.17725 10.8827 7.82172 10.8827 8.21922 11.2802L10.9816 14.0426V7.49994Z",fill:e.fill||"white"})})}var d=o(72282),c=o(85160),u=o(68069),v=o(78135),h=o(21553),p=o(26264),m=o(33962),x=o(35480),y=o(88361),f=o(84840),j=o(93810),g=o(79253),C=o(14021),k=o(10290);function b(e,n,o,i,r,t,l){try{var a=e[t](l),s=a.value}catch(d){return void o(d)}a.done?n(s):Promise.resolve(s).then(i,r)}const w=(0,f.I)(j.$,{size:"medium",borderRadius:50,flexGrow:1,fontSize:"$medium",fontWeight:"$large",height:48,hoverStyle:{filter:"brightness(0.85)"}});function T(){const{t:e}=(0,x.useTranslation)(),{currencyChain:n,currencyChainId:o,address:r,tokenColor:t}=(0,p.x)(),l=(0,h.R)(),f=(0,y.Zp)(),j=(0,v.F)(),T=n.toLowerCase(),$=r===c.E?"ETH":r,I=t&&(0,k.getContrastPassingTextColor)(t),{xs:P}=(0,u.l)(),V=(0,m.useCallback)(function(){var e,n=(e=function*(e){j.chainId&&j.chainId!==o&&(yield l(o)),f(e)},function(){var n=this,o=arguments;return new Promise((function(i,r){var t=e.apply(n,o);function l(e){b(t,i,r,l,a,"next",e)}function a(e){b(t,i,r,l,a,"throw",e)}l(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[j,o,l,f]),L=[{label:e("common.buy.label"),href:`/swap/?chain=${T}&outputCurrency=${$}`,icon:(0,i.jsx)(a.B,{fill:"currentColor"})},{label:e("common.sell.label"),href:`/swap?chain=${T}&inputCurrency=${$}`,icon:(0,i.jsx)(s,{fill:"currentColor"})},{label:e("common.send.button"),href:`/send?chain=${T}&inputCurrency=${$}`,icon:(0,i.jsx)(d.V,{fill:"currentColor"})}];return(0,i.jsx)(g.s,{row:!0,justifyContent:"center",gap:"$spacing8",width:"100%",children:L.map((e=>(0,i.jsx)(w,{onPress:()=>V(e.href),backgroundColor:t,hoverStyle:{backgroundColor:t},pressStyle:{backgroundColor:t},color:I,children:(0,i.jsx)(C.EY,{color:I,children:(0,i.jsxs)(g.s,{row:!0,gap:"$spacing8",alignItems:"center",children:[P&&e.icon,e.label]})})},e.label)))})}var $=o(98616),I=o(70653),P=o(11292),V=o(42441),L=o(69220),M=o(85141),A=o(34748),E=o(84551),S=o(34546),F=o(45805);const B=20;var N=o(2499),O=o(65071);const K=[L.o8.VolOverTvl];function Q({chainId:e,referenceToken:n}){const o=(0,O.useAtomValue)(P.Js),r=(0,O.useAtomValue)(P.KI),t=(0,m.useMemo)((()=>({sortBy:o,sortDirection:r?N.qq.Asc:N.qq.Desc})),[r,o]),{pools:l,loading:a,errorV2:s,errorV3:d,loadMore:c}=function(e,n,o){var i,r,t,l,a,s;const{defaultChainId:d}=(0,A.useEnabledChains)(),c=(0,E.toGraphQLChain)(o??d),u=(0,F.useFeatureFlag)(S.FeatureFlags.V4Data),{loading:v,error:h,data:p,fetchMore:x}=(0,M.useTopV4PoolsQuery)({variables:{first:B,tokenAddress:e,chain:c},skip:!u}),{loading:y,error:f,data:j,fetchMore:g}=(0,M.useTopV3PoolsQuery)({variables:{first:B,tokenAddress:e,chain:c}}),{loading:C,error:k,data:b,fetchMore:w}=(0,M.useTopV2PairsQuery)({variables:{first:B,tokenAddress:e,chain:c},skip:!o}),T=v&&u||y||C,$=(0,m.useRef)(!1),I=(0,m.useRef)(!1),P=(0,m.useRef)(!1),V=(0,m.useRef)(B),N=(0,m.useCallback)((({onComplete:e})=>{var n,o,i,r,t,l,a,s,d,c,v,h;$.current&&u||I.current||P.current||($.current=!0,I.current=!0,P.current=!0,V.current+=B,x({variables:{cursor:null===(r=p)||void 0===r||null===(i=r.topV4Pools)||void 0===i||null===(o=i[p.topV4Pools.length-1])||void 0===o||null===(n=o.totalLiquidity)||void 0===n?void 0:n.value},updateQuery:(n,{fetchMoreResult:o})=>{if(!o||!n||!Object.keys(n).length)return n;var i;I.current||P.current||null===(i=e)||void 0===i||i();const r={topV4Pools:[...(n.topV4Pools??[]).slice(),...(o.topV4Pools??[]).slice()]};return $.current=!1,r}}),g({variables:{cursor:null===(s=j)||void 0===s||null===(a=s.topV3Pools)||void 0===a||null===(l=a[j.topV3Pools.length-1])||void 0===l||null===(t=l.totalLiquidity)||void 0===t?void 0:t.value},updateQuery:(n,{fetchMoreResult:o})=>{if(!o||!n||!Object.keys(n).length)return n;var i;P.current||$.current||null===(i=e)||void 0===i||i();const r={topV3Pools:[...(n.topV3Pools??[]).slice(),...(o.topV3Pools??[]).slice()]};return I.current=!1,r}}),w({variables:{cursor:null===(h=b)||void 0===h||null===(v=h.topV2Pairs)||void 0===v||null===(c=v[b.topV2Pairs.length-1])||void 0===c||null===(d=c.totalLiquidity)||void 0===d?void 0:d.value},updateQuery:(n,{fetchMoreResult:o})=>{if(!o||!n||!Object.keys(n).length)return n;var i;I.current||$.current||null===(i=e)||void 0===i||i();const r={topV2Pairs:[...(n.topV2Pairs??[]).slice(),...(o.topV2Pairs??[]).slice()]};return P.current=!1,r}}))}),[null===(i=b)||void 0===i?void 0:i.topV2Pairs,null===(r=j)||void 0===r?void 0:r.topV3Pools,null===(t=p)||void 0===t?void 0:t.topV4Pools,w,g,x,u]);return(0,m.useMemo)((()=>{var e,o,i,r,t,l;const a=u?(null===(o=p)||void 0===o||null===(e=o.topV4Pools)||void 0===e?void 0:e.map((e=>{var n,o,i,r,t,l,a,s;return{hash:e.poolId,token0:e.token0,token1:e.token1,tvl:null===(n=e.totalLiquidity)||void 0===n?void 0:n.value,volume24h:null===(o=e.volume24h)||void 0===o?void 0:o.value,volume30d:null===(i=e.volume30d)||void 0===i?void 0:i.value,volOverTvl:(0,L.Db)(null===(r=e.volume24h)||void 0===r?void 0:r.value,null===(t=e.totalLiquidity)||void 0===t?void 0:t.value),apr:(0,L.qQ)(null===(l=e.volume24h)||void 0===l?void 0:l.value,null===(a=e.totalLiquidity)||void 0===a?void 0:a.value,e.feeTier),feeTier:e.feeTier,protocolVersion:e.protocolVersion,hookAddress:null===(s=e.hook)||void 0===s?void 0:s.address}})))??[]:[],s=(null===(r=j)||void 0===r||null===(i=r.topV3Pools)||void 0===i?void 0:i.map((e=>{var n,o,i,r,t,l,a;return{hash:e.address,token0:e.token0,token1:e.token1,tvl:null===(n=e.totalLiquidity)||void 0===n?void 0:n.value,volume24h:null===(o=e.volume24h)||void 0===o?void 0:o.value,volume30d:null===(i=e.volume30d)||void 0===i?void 0:i.value,volOverTvl:(0,L.Db)(null===(r=e.volume24h)||void 0===r?void 0:r.value,null===(t=e.totalLiquidity)||void 0===t?void 0:t.value),apr:(0,L.qQ)(null===(l=e.volume24h)||void 0===l?void 0:l.value,null===(a=e.totalLiquidity)||void 0===a?void 0:a.value,e.feeTier),feeTier:e.feeTier,protocolVersion:e.protocolVersion}})))??[],d=(null===(l=b)||void 0===l||null===(t=l.topV2Pairs)||void 0===t?void 0:t.map((e=>{var n,o,i,r,t,l,a;return{hash:e.address,token0:e.token0,token1:e.token1,tvl:null===(n=e.totalLiquidity)||void 0===n?void 0:n.value,volume24h:null===(o=e.volume24h)||void 0===o?void 0:o.value,volume30d:null===(i=e.volume30d)||void 0===i?void 0:i.value,volOverTvl:(0,L.Db)(null===(r=e.volume24h)||void 0===r?void 0:r.value,null===(t=e.totalLiquidity)||void 0===t?void 0:t.value),apr:(0,L.qQ)(null===(l=e.volume24h)||void 0===l?void 0:l.value,null===(a=e.totalLiquidity)||void 0===a?void 0:a.value,L.I8),feeTier:L.I8,protocolVersion:e.protocolVersion}})))??[],c=(0,L.a_)([...a,...s,...d],n).slice(0,V.current);return{loading:T,errorV2:k,errorV3:f,errorV4:h,pools:c,loadMore:N}}),[null===(l=b)||void 0===l?void 0:l.topV2Pairs,null===(a=j)||void 0===a?void 0:a.topV3Pools,null===(s=p)||void 0===s?void 0:s.topV4Pools,k,f,h,N,T,n,u])}(n.address,t,e),u=s&&d?new I.K4({errorMessage:`Could not retrieve V2 and V3 Pools for token ${n.address} on chain: ${e}`}):void 0,v=a&&!l.length;(0,V.eG)({chainId:e,errorV3:d,errorV2:s});const h=(0,O.useResetAtom)(P.Js),p=(0,O.useResetAtom)(P.KI);return(0,m.useEffect)((()=>{h(),p()}),[p,h]),(0,i.jsx)("div",{"data-testid":`tdp-pools-table-${n.address.toLowerCase()}`,children:(0,i.jsx)(P.SW,{pools:l,loading:v,error:u,maxHeight:600,hiddenColumns:K,loadMore:c})})}var R=o(97609),W=o(86302),D=o(27758),q=o(71792),U=o(77057),H=(e=>(e.BUY="Buy",e.SELL="Sell",e))(H||{});const Y=25;var z=o(4163),Z=o(31470),_=o(33900),G=o(2029),J=o(91071);const X=(0,f.I)(C.EY,{display:"inline-block",maxWidth:75,variant:"body2",color:"$neutral1",...z.$4}),ee=(0,f.I)(g.s,{position:"relative",minHeight:158});function ne({chainId:e,referenceToken:n}){const o=(0,Z.useAppFiatCurrency)(),{formatNumber:r,formatFiatPrice:t}=(0,J.kc)(),[l,a]=(0,m.useReducer)((e=>!e),!1),s=(0,m.useRef)(null),[d,c]=(0,m.useState)([H.BUY,H.SELL]),{transactions:u,loading:v,loadMore:h,errorV2:p,errorV3:y}=function(e,n,o=["Buy","Sell"]){var i,r,t,l,a,s,d,c;const{defaultChainId:u}=(0,A.useEnabledChains)(),{data:v,loading:h,fetchMore:p,error:x}=(0,M.useV3TokenTransactionsQuery)({variables:{address:e.toLowerCase(),chain:(0,E.toGraphQLChain)(n??u),first:Y}}),{data:y,loading:f,error:j,fetchMore:g}=(0,M.useV2TokenTransactionsQuery)({variables:{address:e.toLowerCase(),first:Y,chain:(0,E.toGraphQLChain)(n)}}),C=(0,m.useRef)(!1),k=(0,m.useRef)(!1),b=(0,m.useRef)(Y),w=(0,m.useCallback)((({onComplete:e})=>{var n,o,i,r,t,l,a,s,d,c;C.current||k.current||(C.current=!0,k.current=!0,b.current+=Y,p({variables:{cursor:null===(t=v)||void 0===t||null===(r=t.token)||void 0===r||null===(i=r.v3Transactions)||void 0===i||null===(n=i[(null===(o=v.token)||void 0===o?void 0:o.v3Transactions.length)-1])||void 0===n?void 0:n.timestamp},updateQuery:(n,{fetchMoreResult:o})=>{var i,r,t,l,a,s,d;if(!o)return n;k.current||null===(d=e)||void 0===d||d();const c={token:{...n.token,id:(null===(r=n)||void 0===r||null===(i=r.token)||void 0===i?void 0:i.id)??"",chain:(null===(l=n)||void 0===l||null===(t=l.token)||void 0===t?void 0:t.chain)??M.Chain.Ethereum,v3Transactions:[...(null===(a=n.token)||void 0===a?void 0:a.v3Transactions)??[],...(null===(s=o.token)||void 0===s?void 0:s.v3Transactions)??[]]}};return C.current=!1,c}}),g({variables:{cursor:null===(c=y)||void 0===c||null===(d=c.token)||void 0===d||null===(s=d.v2Transactions)||void 0===s||null===(l=s[(null===(a=y.token)||void 0===a?void 0:a.v2Transactions.length)-1])||void 0===l?void 0:l.timestamp},updateQuery:(n,{fetchMoreResult:o})=>{var i,r,t,l,a,s,d;if(!o)return n;C.current||null===(d=e)||void 0===d||d();const c={token:{...n.token,id:(null===(r=n)||void 0===r||null===(i=r.token)||void 0===i?void 0:i.id)??"",chain:(null===(l=n)||void 0===l||null===(t=l.token)||void 0===t?void 0:t.chain)??M.Chain.Ethereum,v2Transactions:[...(null===(a=n.token)||void 0===a?void 0:a.v2Transactions)??[],...(null===(s=o.token)||void 0===s?void 0:s.v2Transactions)??[]]}};return k.current=!1,c}}))}),[null===(r=y)||void 0===r||null===(i=r.token)||void 0===i?void 0:i.v2Transactions,null===(l=v)||void 0===l||null===(t=l.token)||void 0===t?void 0:t.v3Transactions,g,p]),T=(0,m.useMemo)((()=>{var n,i,r,t,l,a;return[...(null===(r=v)||void 0===r||null===(i=r.token)||void 0===i||null===(n=i.v3Transactions)||void 0===n?void 0:n.filter((n=>{var i;if(!n)return!1;const r=(null===(i=(parseFloat(n.token0Quantity)>0?n.token0:n.token1).address)||void 0===i?void 0:i.toLowerCase())===e.toLowerCase();return n.type===M.PoolTransactionType.Swap&&o.includes(r?"Sell":"Buy")})))??[],...(null===(a=y)||void 0===a||null===(l=a.token)||void 0===l||null===(t=l.v2Transactions)||void 0===t?void 0:t.filter((n=>{var i;if(!n)return!1;const r=(null===(i=(parseFloat(n.token0Quantity)>0?n.token0:n.token1).address)||void 0===i?void 0:i.toLowerCase())===e.toLowerCase();return n.type===M.PoolTransactionType.Swap&&o.includes(r?"Sell":"Buy")})))??[]].sort(((e,n)=>{var o,i,r;return(null===(o=e)||void 0===o?void 0:o.timestamp)&&(null===(i=n)||void 0===i?void 0:i.timestamp)?n.timestamp-e.timestamp:null===(null===(r=e)||void 0===r?void 0:r.timestamp)?-1:1})).slice(0,b.current)}),[e,null===(s=y)||void 0===s||null===(a=s.token)||void 0===a?void 0:a.v2Transactions,null===(c=v)||void 0===c||null===(d=c.token)||void 0===d?void 0:d.v3Transactions,o]);return(0,m.useMemo)((()=>({transactions:T,loading:h||f,loadMore:w,errorV2:j,errorV3:x})),[T,h,f,w,j,x])}(n.address,e,d),f=p&&y?new I.K4({errorMessage:`Could not retrieve V2 and V3 Transactions for token: ${n.address} on chain: ${e}`}):void 0,j=v&&!u.length;(0,V.eG)({chainId:e,errorV3:y,errorV2:p});const k=(0,N.LA)(e,n),b=(0,m.useMemo)((()=>u.map((e=>{const n={address:e.token0.address,symbol:e.token0.symbol,amount:parseFloat(e.token0Quantity),token:e.token0},o={address:e.token1.address,symbol:e.token1.symbol,amount:parseFloat(e.token1Quantity),token:e.token1},i=parseFloat(e.token0Quantity)>0;return{hash:e.hash,timestamp:e.timestamp,input:i?n:o,output:i?o:n,usdValue:e.usdValue.value,makerAddress:e.account}}))),[u]),w=j||!!f,T=(0,m.useMemo)((()=>{const u=(0,R.FB)();return[u.accessor((e=>e),{id:"timestamp",header:()=>(0,i.jsx)(D.f,{minWidth:120,justifyContent:"flex-start",grow:!0,children:(0,i.jsxs)(g.s,{row:!0,gap:"$gap4",alignItems:"center",children:[(0,i.jsx)(U.bV,{direction:N.qq.Desc}),(0,i.jsx)(U.NF,{active:!0,children:(0,i.jsx)(x.Trans,{i18nKey:"common.time"})})]})}),cell:n=>{var o,r,t,l;return(0,i.jsx)(D.f,{loading:w,minWidth:120,justifyContent:"flex-start",grow:!0,children:(0,i.jsx)(U.RR,{timestamp:Number(null===(o=(r=n).getValue)||void 0===o?void 0:o.call(r).timestamp),link:(0,_.getExplorerLink)(e,null===(t=(l=n).getValue)||void 0===t?void 0:t.call(l).hash,_.ExplorerDataType.TRANSACTION)})})}}),u.accessor((e=>e.output.address),{id:"swap-type",header:()=>(0,i.jsx)(D.f,{minWidth:75,justifyContent:"flex-start",grow:!0,children:(0,i.jsxs)(U.Iw,{clickable:l,onPress:a,alignItems:"center",ref:s,children:[(0,i.jsx)(q.d,{allFilters:Object.values(H),activeFilter:d,setFilters:c,isOpen:l,toggleFilterModal:a,anchorRef:s}),(0,i.jsx)(C.EY,{variant:"body2",color:"$neutral2",children:(0,i.jsx)(x.Trans,{i18nKey:"common.type.label"})})]})}),cell:e=>{var o,r;const t=String(null===(o=(r=e).getValue)||void 0===o?void 0:o.call(r)).toLowerCase()===n.address.toLowerCase();return(0,i.jsx)(D.f,{loading:w,minWidth:75,justifyContent:"flex-start",grow:!0,children:(0,i.jsx)(C.EY,{variant:"body2",color:t?"$statusSuccess":"$statusCritical",children:t?(0,i.jsx)(x.Trans,{i18nKey:"common.buy.label"}):(0,i.jsx)(x.Trans,{i18nKey:"common.sell.label"})})})}}),u.accessor((e=>{var o;return(null===(o=e.input.address)||void 0===o?void 0:o.toLowerCase())===n.address.toLowerCase()?e.input.amount:e.output.amount}),{id:"reference-amount",header:()=>(0,i.jsx)(D.f,{minWidth:100,justifyContent:"flex-end",children:(0,i.jsxs)(C.EY,{variant:"body2",color:"$neutral2",children:["$",k.symbol]})}),cell:e=>{var n,o;return(0,i.jsx)(D.f,{loading:w,minWidth:100,justifyContent:"flex-end",children:(0,i.jsx)(C.EY,{variant:"body2",color:"$neutral1",children:r({input:Math.abs(null===(n=(o=e).getValue)||void 0===n?void 0:n.call(o))||0})})})}}),u.accessor((e=>{var o;const t=(null===(o=e.input.address)||void 0===o?void 0:o.toLowerCase())===n.address.toLowerCase()?e.output:e.input;return(0,i.jsxs)(g.s,{row:!0,gap:"$gap8",justifyContent:"flex-end",children:[(0,i.jsx)(X,{children:r({input:Math.abs(t.amount)||0})}),(0,i.jsx)(U.m7,{token:t.token})]})}),{id:"non-reference-amount",header:()=>(0,i.jsx)(D.f,{minWidth:160,justifyContent:"flex-end",children:(0,i.jsx)(C.EY,{variant:"body2",color:"$neutral2",children:(0,i.jsx)(x.Trans,{i18nKey:"common.for"})})}),cell:e=>{var n,o;return(0,i.jsx)(D.f,{loading:w,minWidth:160,justifyContent:"flex-end",children:null===(n=(o=e).getValue)||void 0===n?void 0:n.call(o)})}}),u.accessor((e=>e.usdValue),{id:"fiat-value",header:()=>(0,i.jsx)(D.f,{minWidth:125,justifyContent:"flex-end",children:(0,i.jsx)(g.s,{row:!0,gap:"$gap4",justifyContent:"flex-end",children:(0,i.jsx)(U.NF,{children:o})})}),cell:e=>{var n,o;return(0,i.jsx)(D.f,{loading:w,minWidth:125,justifyContent:"flex-end",children:(0,i.jsx)(C.EY,{variant:"body2",color:"$neutral1",children:t({price:null===(n=(o=e).getValue)||void 0===n?void 0:n.call(o)})})})}}),u.accessor((e=>e.makerAddress),{id:"maker-address",header:()=>(0,i.jsx)(D.f,{minWidth:150,justifyContent:"flex-end",children:(0,i.jsx)(C.EY,{variant:"body2",color:"$neutral2",children:(0,i.jsx)(x.Trans,{i18nKey:"common.wallet.label"})})}),cell:n=>{var o,r,t,l;return(0,i.jsx)(D.f,{loading:w,minWidth:150,justifyContent:"flex-end",children:(0,i.jsx)(U.b$,{href:(0,_.getExplorerLink)(e,null===(o=(r=n).getValue)||void 0===o?void 0:o.call(r),_.ExplorerDataType.ADDRESS),children:(0,G.shortenAddress)(null===(t=(l=n).getValue)||void 0===t?void 0:t.call(l))})})}})]}),[w,e,l,d,n.address,k.symbol,r,o,t]);return(0,i.jsx)(ee,{children:(0,i.jsx)(W.X,{columns:T,data:b,loading:j,error:f,loadMore:h,maxHeight:600})})}const oe=(0,f.I)(g.s,{width:"100%"}),ie=(0,f.I)(C.EY,{color:"$neutral1",variant:"heading3",...z.oO});function re(){const{wrapped:e,chainId:n}=(0,p.x)().currency,[o,r]=(0,m.useState)(0);return e?(0,i.jsxs)(oe,{"data-testid":"token-details-activity-section",children:[(0,i.jsxs)(g.s,{row:!0,gap:"$spacing24",mb:"$spacing24",id:"activity-header",children:[(0,i.jsx)(ie,{color:0===o?"$neutral1":"$neutral2",onPress:()=>r(0),children:(0,i.jsx)(x.Trans,{i18nKey:"common.transactions"})}),(0,i.jsx)(ie,{color:1===o?"$neutral1":"$neutral2",onPress:()=>r(1),children:(0,i.jsx)(x.Trans,{i18nKey:"common.pools"})})]}),0===o&&(0,i.jsx)(ne,{chainId:n,referenceToken:e}),1===o&&(0,i.jsx)(Q,{chainId:n,referenceToken:e})]}):null}var te=o(86535),le=o(16444),ae=o(73763),se=o(66954),de=o(26179);const ce=le.Ay.div`
  color: ${({theme:e})=>e.neutral1};
  display: flex;
  flex-direction: column;
  gap: 24px;
  height: fit-content;
  width: 100%;

  @media screen and (min-width: ${ae.LO.md}px) {
    display: flex;
  }
`,ue=le.Ay.div`
  height: fit-content;
  width: 100%;
`,ve=le.Ay.div`
  align-items: center;
  display: flex;
  flex-direction: row;
  margin-top: 12px;
`,he=le.Ay.div`
  display: flex;
  align-items: center;
`,pe=le.Ay.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  margin-left: 12px;
  ${({$alignLeft:e})=>e&&"\n    justify-content: start;\n    gap: 8px;\n  "}
`,me=({currency:e,chainId:n=de.UniverseChainId.Mainnet,gqlBalance:o,alignLeft:r=!1,onClick:t})=>{var l,a,s,d,c,u;const{formatNumber:v}=(0,J.kc)(),h=(0,m.useMemo)((()=>[e]),[e]),p=v({input:null===(l=o)||void 0===l?void 0:l.quantity,type:J.wl.TokenNonTx}),x=v({input:null===(s=o)||void 0===s||null===(a=s.denominatedValue)||void 0===a?void 0:a.value,type:J.wl.PortfolioBalance});return(0,i.jsxs)(ve,{onClick:t,children:[(0,i.jsx)(te.k,{currencies:h,chainId:n,images:[null===(u=o)||void 0===u||null===(c=u.token)||void 0===c||null===(d=c.project)||void 0===d?void 0:d.logoUrl],size:32}),(0,i.jsxs)(pe,{$alignLeft:r,children:[(0,i.jsx)(he,{children:(0,i.jsx)(se.P.BodyPrimary,{children:x})}),(0,i.jsx)(he,{children:(0,i.jsx)(se.P.BodySecondary,{children:p})})]})]})},xe=({pageChainBalance:e,alignLeft:n=!1})=>{var o;if(!e||!e.token)return null;const r=(0,N.d2)(e.token);return(0,i.jsxs)(ue,{children:[(0,i.jsx)(se.P.HeadlineSmall,{color:"neutral1",children:(0,i.jsx)(x.Trans,{i18nKey:"tdp.balanceSummary.title"})}),(0,i.jsx)(me,{currency:r,chainId:null===(o=r)||void 0===o?void 0:o.chainId,gqlBalance:e,alignLeft:n})]})},ye=({otherChainBalances:e,hasPageChainBalance:n})=>{const o=(0,y.Zp)(),{defaultChainId:r}=(0,A.useEnabledChains)();return e.length?(0,i.jsxs)(ue,{children:[n?(0,i.jsx)(se.P.SubHeaderSmall,{children:(0,i.jsx)(x.Trans,{i18nKey:"tdp.balanceSummary.otherNetworks",children:"On other networks"})}):(0,i.jsx)(se.P.HeadlineSmall,{children:(0,i.jsx)(x.Trans,{i18nKey:"tdp.balanceSummary.otherNetworksBalance",children:"Balance on other networks"})}),e.map((e=>{const n=e.token&&(0,N.d2)(e.token),t=(e.token&&(0,N._N)(e.token.chain))??r;return(0,i.jsx)(me,{currency:n,chainId:t,gqlBalance:e,onClick:()=>{var n,i;return o((0,N.Z5)({address:null===(n=e.token)||void 0===n?void 0:n.address,chain:(null===(i=e.token)||void 0===i?void 0:i.chain)??M.Chain.Ethereum}))}},e.id)}))]}):null};function fe(){var e;const n=(0,v.F)(),{currencyChain:o,multiChainMap:r}=(0,p.x)(),t=null===(e=r[o])||void 0===e?void 0:e.balance,l=[];for(const[i,d]of Object.entries(r)){var a;i!==o&&void 0!==(null===(a=d)||void 0===a?void 0:a.balance)&&l.push(d.balance)}const s=t||Boolean(l.length);return n.isConnected&&s?(0,i.jsxs)(ce,{children:[(0,i.jsx)(xe,{pageChainBalance:t}),(0,i.jsx)(ye,{otherChainBalances:l,hasPageChainBalance:!!t})]}):null}var je=o(16679),ge=o(6495),Ce=o(85494),ke=o(2017);const be=e=>(0,i.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"transparent",...e,children:(0,i.jsx)("path",{d:"M5.12245 9.5625C5.23495 11.8725 6.01495 14.2275 7.37245 16.32C4.19245 15.615 1.76996 12.8925 1.52246 9.5625H5.12245ZM7.37245 1.67999C4.19245 2.38499 1.76996 5.1075 1.52246 8.4375H5.12245C5.23495 6.1275 6.01495 3.77249 7.37245 1.67999ZM9.14997 1.5H8.84995L8.62496 1.82249C7.19996 3.84749 6.36745 6.1725 6.24745 8.4375H11.7525C11.6325 6.1725 10.8 3.84749 9.37496 1.82249L9.14997 1.5ZM6.24745 9.5625C6.36745 11.8275 7.19996 14.1525 8.62496 16.1775L8.84995 16.5H9.14997L9.37496 16.1775C10.8 14.1525 11.6325 11.8275 11.7525 9.5625H6.24745ZM12.8775 9.5625C12.765 11.8725 11.985 14.2275 10.6275 16.32C13.8075 15.615 16.23 12.8925 16.4775 9.5625H12.8775ZM16.4775 8.4375C16.23 5.1075 13.8075 2.38499 10.6275 1.67999C11.985 3.77249 12.765 6.1275 12.8775 8.4375H16.4775Z",fill:e.fill??"#607BEE"})});var we=o(35239),Te=o(76855),$e=o(83565),Ie=o(38108),Pe=o(85869),Ve=o(89531),Le=o(55199),Me=o(52507),Ae=o(40297);const Ee=(0,f.I)(g.s,{gap:"$gap16",width:"100%",$xl:{gap:24}}),Se=(0,f.I)(g.s,{row:!0,gap:"$gap8",width:"100%"}),Fe=(0,f.I)(Se,{flexWrap:"wrap"}),Be=(0,f.I)(C.EY,{variant:"buttonLabel3",display:"flex",flexDirection:"row",alignItems:"center",gap:"$gap4",py:"$padding8",px:"$padding12",borderRadius:"$rounded20",backgroundColor:"$surface2",width:"max-content",...z.oO,color:"$neutral1"}),Ne=(0,f.I)(C.EY,{variant:"body1",color:"$neutral1",maxWidth:"100%",maxHeight:"fit-content",...z.$4,whiteSpace:"pre-wrap",lineHeight:24}),Oe=(0,f.I)(Ae.f,{fontWeight:"$book",variants:{visible:{true:{display:"inline"},false:{display:"none"}}}}),Ke=200;function Qe(){var e,n;const{t:o}=(0,x.useTranslation)(),{address:r,currency:t,tokenQuery:l}=(0,p.x)(),{neutral1:a}=(0,Le.useTheme)(),{description:s,homepageUrl:d,twitterName:c}=(null===(n=l.data)||void 0===n||null===(e=n.token)||void 0===e?void 0:e.project)??{},u=(0,_.getExplorerLink)(t.chainId,r,t.isNative?_.ExplorerDataType.NATIVE:_.ExplorerDataType.TOKEN),[v,h]=(0,Pe.A)(),y=(0,m.useCallback)((()=>{h(r)}),[r,h]),[f,j]=(0,m.useReducer)((e=>!e),!0),k=(0,$e.Hy)(s??"",Ke),b=!!s&&s.length>Ke,w=b&&f,{inputTax:T,outputTax:$}=(0,Ve.U)(r,r,t.chainId),{formatPercent:I}=(0,J.kc)(),{sellFeeString:P,buyFeeString:V}={sellFeeString:I(T),buyFeeString:I($)},L=Boolean(parseFloat(P))||Boolean(parseFloat($.toFixed(2))),M=P===V;return(0,i.jsxs)(Ee,{"data-testid":"token-details-info-section",children:[(0,i.jsx)(C.EY,{variant:"heading3",children:(0,i.jsx)(x.Trans,{i18nKey:"common.info.label"})}),(0,i.jsxs)(Fe,{"data-testid":"token-details-info-links",children:[!t.isNative&&(0,i.jsx)(Ie.Ay,{placement:"bottom",size:Ie.N6.Max,show:v,text:o("common.copied"),children:(0,i.jsxs)(Be,{onPress:y,children:[(0,i.jsx)(Me.A,{width:"18px",height:"18px",color:a}),(0,G.shortenAddress)(t.address)]})}),(0,i.jsx)(z.Gr,{href:u,children:(0,i.jsxs)(Be,{children:[(0,i.jsx)(ke.D,{width:"18px",height:"18px",fill:a}),t.chainId===de.UniverseChainId.Mainnet?(0,i.jsx)(x.Trans,{i18nKey:"common.etherscan"}):(0,i.jsx)(x.Trans,{i18nKey:"common.explorer"})]})}),d&&(0,i.jsx)(z.Gr,{href:d,children:(0,i.jsxs)(Be,{children:[(0,i.jsx)(be,{width:"18px",height:"18px",fill:a}),(0,i.jsx)(x.Trans,{i18nKey:"common.website"})]})}),c&&(0,i.jsx)(z.Gr,{href:`https://x.com/${c}`,children:(0,i.jsxs)(Be,{children:[(0,i.jsx)(we.$,{width:"18px",height:"18px",fill:a}),(0,i.jsx)(x.Trans,{i18nKey:"common.twitter"})]})})]}),(0,i.jsxs)(Ne,{children:[!s&&(0,i.jsx)($e.ZG,{children:(0,i.jsx)(x.Trans,{i18nKey:"tdp.noInfoAvailable"})}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Oe,{"data-testid":"token-description-full",visible:!w,children:s}),(0,i.jsx)(Oe,{"data-testid":"token-description-truncated",visible:w,children:k})]}),b&&(0,i.jsx)(C.EY,{display:"flex",color:"neutral2",fontWeight:"485",variant:"body2",pt:"0.5em",$sm:{mb:"2rem"},onPress:j,...z.oO,"data-testid":"token-description-show-more-button",children:f?(0,i.jsx)(x.Trans,{i18nKey:"common.showMore.button"}):(0,i.jsx)(x.Trans,{i18nKey:"common.hide.button"})})]}),L&&(0,i.jsx)(Ie.PD,{placement:"left",size:Ie.N6.Small,text:(0,i.jsx)(se.P.Caption,{color:"neutral2",children:(0,i.jsx)(Te.Ay,{})}),children:(0,i.jsx)(g.s,{gap:"$gap8",children:M?(0,i.jsxs)(se.P.BodyPrimary,{children:[t.symbol,"\xa0",(0,i.jsx)(x.Trans,{i18nKey:"token.fee.label"}),":\xa0",P]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(se.P.BodyPrimary,{children:[t.symbol,"\xa0",(0,i.jsx)(x.Trans,{i18nKey:"token.fee.buy.label"}),":\xa0",V]})," ",(0,i.jsxs)(se.P.BodyPrimary,{children:[t.symbol,"\xa0",(0,i.jsx)(x.Trans,{i18nKey:"token.fee.sell.label"}),":\xa0",P]})," "]})})})]})}var Re=o(59074),We=o(15043),De=o(89783),qe=o(84890),Ue=o(4252),He=o(42150),Ye=o(49089),ze=o(82291),Ze=o(71700),_e=o(85614),Ge=o(77845),Je=o(79712);const Xe=()=>{var e,n,o,r;const{address:t,currency:l,tokenQuery:a}=(0,p.x)(),{t:s}=(0,x.useTranslation)(),d=(0,Ye.D)(),c=(0,ze.Qf)().sm,[u,v]=(0,m.useState)(!1),h=l.symbol??s("tdp.symbolNotFound"),y=(0,_.getExplorerLink)(l.chainId,t,l.isNative?_.ExplorerDataType.NATIVE:_.ExplorerDataType.TOKEN),{homepageUrl:f,twitterName:j}=(null===(n=a.data)||void 0===n||null===(e=n.token)||void 0===e?void 0:e.project)??{},k=j&&`https://x.com/${j}`,[b]=(0,He.useSearchParams)(),w=`${b.size>0?"&":"?"}utm_source=share-tdp&utm_medium=${Je.isMobileWeb?"mobile":"web"}`,T=window.location.href+w,$=l.name&&l.symbol?`${l.name} (${l.symbol})`:(null===(o=l)||void 0===o?void 0:o.name)||(null===(r=l)||void 0===r?void 0:r.symbol)||"",[I,P]=(0,Pe.A)(),V=(0,m.useMemo)((()=>[{title:s("common.explorer"),icon:l.chainId===de.UniverseChainId.Mainnet?(0,i.jsx)(ke.D,{width:"18px",height:"18px",fill:d.neutral1.val}):(0,i.jsx)(Re.F,{width:"18px",height:"18px",fill:d.neutral1.val}),onPress:()=>window.open(y,"_blank"),show:!!y},{title:s("common.website"),icon:(0,i.jsx)(be,{width:"18px",height:"18px",fill:d.neutral1.val}),onPress:()=>window.open(f,"_blank"),show:!!f},{title:s("common.twitter"),icon:(0,i.jsx)(we.$,{width:"18px",height:"18px",fill:d.neutral1.val}),onPress:()=>window.open(k,"_blank"),show:!!k},{title:s(I?"common.copied":"common.copyLink.button"),icon:I?(0,i.jsx)(_e.Check,{size:16,p:1,color:d.statusSuccess.val}):(0,i.jsx)(qe.A,{size:18,color:d.neutral1.val}),onPress:()=>P(T),show:c},{title:s("common.share.shareToTwitter"),icon:(0,i.jsx)(We.S,{fill:d.neutral1.val,width:18,height:18}),onPress:()=>(0,De.b)($),show:c}]),[y,f,k,l.chainId,d,s,I,P,T,c,$]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(ge.nj,{children:[(0,i.jsx)(te.k,{currencies:[l],chainId:l.chainId,size:32}),(0,i.jsxs)(g.s,{row:!0,gap:"$gap8",alignItems:"center",overflow:"hidden",children:[(0,i.jsx)(C.EY,{variant:"heading3",minWidth:40,...z.$4,children:l.name??s("tdp.nameNotFound")}),(0,i.jsx)(C.EY,{variant:"heading3",textTransform:"uppercase",color:"$neutral2",$sm:{display:"none"},children:h})]})]}),c?(0,i.jsxs)(g.s,{children:[(0,i.jsx)(C.EY,{onPress:()=>v(!0),...$e.S_,children:(0,i.jsx)(Ue.A,{size:Ge.iconSizes.icon20,color:d.neutral2.val})}),(0,i.jsx)(Ze.WebBottomSheet,{isOpen:c&&u,onClose:()=>v(!1),children:(0,i.jsx)(g.s,{gap:"$spacing8",mb:"$spacing16",children:V.map((e=>e.show&&(0,i.jsxs)(g.s,{row:!0,width:"100%",gap:"$spacing12",px:"$spacing8",py:10,alignItems:"center",hoverStyle:{backgroundColor:"$surface3"},cursor:"pointer",borderRadius:"$rounded8",onPress:()=>{v(!1),e.onPress()},children:[e.icon,(0,i.jsx)(C.EY,{variant:"body2",children:e.title})]},e.title)))})})]}):(0,i.jsxs)(g.s,{row:!0,gap:"$gap8",alignItems:"center",children:[V.map((e=>e.show&&(0,i.jsx)(Ie.PD,{text:e.title,placement:"top",size:Ie.N6.Max,children:(0,i.jsx)(C.EY,{onPress:e.onPress,...$e.S_,children:e.icon})},e.title))),(0,i.jsx)(De.A,{name:$,utmSource:"share-tdp"})]})]})};var en=o(65475),nn=o(84875),on=o(96185),rn=o(46192),tn=o(32537),ln=o(9684),an=o(69169),sn=o(53195),dn=o(65686),cn=o(14201),un=o(81743),vn=o(93280),hn=o(10016),pn=o(35722),mn=o(69104),xn=o(99759);const yn=(0,le.Ay)($e.Hr)`
  margin-top: 40px;
  margin-bottom: 40px;
  @media screen and (max-width: ${({theme:e})=>e.breakpoint.sm}px) {
    opacity: 0;
    margin-bottom: 0;
  }
`;function fn(){const{address:e,currency:n,currencyChain:o}=(0,p.x)();return(0,i.jsxs)(t.AF,{"aria-label":"breadcrumb-nav",children:[(0,i.jsxs)(t.TV,{to:`/explore/${o.toLowerCase()}`,children:[(0,i.jsx)(x.Trans,{i18nKey:"common.explore"})," ",(0,i.jsx)(rn.A,{size:14})]}),(0,i.jsxs)(t.TV,{to:`/explore/tokens/${o.toLowerCase()}`,children:[(0,i.jsx)(x.Trans,{i18nKey:"common.tokens"})," ",(0,i.jsx)(rn.A,{size:14})]}),(0,i.jsx)(t.Q9,{address:e,currency:n})]})}function jn(e){return e?e.isToken?e.address:c.E:""}function gn(){const{address:e,currency:n,currencyChainId:o,warning:r}=(0,p.x)(),t=(0,F.useFeatureFlag)(S.FeatureFlags.TokenProtection),l=(0,y.Zp)(),a=(0,un.useCurrencyInfo)((0,vn.currencyId)(n)),s=(0,m.useCallback)((n=>{var i,r;const t=jn(n.inputCurrency),a=jn(n.outputCurrency),s=(0,hn.h)(t,e)&&(null===(i=n.inputCurrency)||void 0===i?void 0:i.chainId)===o,d=(0,hn.h)(a,e)&&(null===(r=n.outputCurrency)||void 0===r?void 0:r.chainId)===o;if(s||d)return;const c=n.outputCurrency??n.inputCurrency;if(!c)return;const u=function(e,n,o,i){const r=(0,de.isUniverseChainId)(n)?(0,xn.getChainInfo)(n).assetRepoNetworkName??"ethereum":"ethereum",t=(0,G.isAddress)(e);return n&&(0,mn.isCelo)(n)&&e===(0,mn.nativeOnChain)(n).wrapped.address?pn.CELO_LOGO:t?`https://raw.githubusercontent.com/Uniswap/assets/master/blockchains/${r}/assets/${t}/logo.png`:i??void 0}(c.wrapped.address,c.chainId,c.isNative),v=(0,N.Z5)({address:c.isNative?null:c.address,chain:(0,E.toGraphQLChain)((0,de.isUniverseChainId)(c.chainId)?c.chainId:o),inputAddress:n.inputCurrency&&n.inputCurrency!==c?t:null});l(v,{state:{preloadedLogoSrc:u}})}),[e,o,l]),d=function(){const{currency:e}=(0,p.x)(),{useParsedQueryString:n}=(0,an.useUrlContext)(),o=n(),i=(0,m.useMemo)((()=>"string"===typeof o.inputCurrency?o.inputCurrency:e.isNative?void 0:(0,ln.getNativeAddress)(e.chainId)),[e.chainId,e.isNative,o.inputCurrency]);return(0,en.H2)(i,e.chainId)}(),[c,u]=(0,m.useState)(!1),v=(0,m.useCallback)((()=>u(!1)),[]);return(0,i.jsxs)(g.s,{gap:"$gap12",children:[(0,i.jsx)(on._z,{syncTabToUrl:!1,chainId:n.chainId,initialInputCurrency:d,initialOutputCurrency:n,onCurrencyChange:s,compact:!0}),t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(dn.TokenWarningCard,{currencyInfo:a,onPress:()=>u(!0)}),a&&(0,i.jsx)(cn.default,{currencyInfo0:a,isInfoOnlyWarning:!0,isVisible:c,closeModalOnly:v,onAcknowledge:v})]}):r&&(0,i.jsx)($.A,{tokenAddress:e,warning:r})]})}function Cn({children:e}){const{address:n,currency:o}=(0,p.x)();return(0,i.jsx)(sn.default,{logImpression:!0,page:r.Om.TOKEN_DETAILS_PAGE,properties:{tokenAddress:n,tokenSymbol:o.symbol,tokenName:o.name,chainId:o.chainId},children:e})}function kn(){var e,n;const{address:o,currency:r,tokenQuery:t,currencyChain:a,multiChainMap:s}=(0,p.x)(),d=null===(e=t.data)||void 0===e?void 0:e.token,c=null===(n=s[a])||void 0===n?void 0:n.balance,{lg:v}=(0,u.l)(),{direction:h}=(0,nn.L)(),m=(0,tn.J)();return(0,i.jsx)(Cn,{children:(0,i.jsxs)(ge.Ms,{children:[(0,i.jsxs)(ge.Wx,{children:[(0,i.jsx)(fn,{}),(0,i.jsx)(ge.f5,{"data-testid":"token-info-container",children:(0,i.jsx)(Xe,{})}),(0,i.jsx)(je.Ay,{}),!v&&!!c&&(0,i.jsx)(g.s,{mt:"$spacing40",children:(0,i.jsx)(xe,{pageChainBalance:c,alignLeft:!0})}),(0,i.jsx)(Ce.Ay,{chainId:r.chainId,address:o,tokenQueryData:d}),(0,i.jsx)(yn,{}),(0,i.jsx)(re,{})]}),(0,i.jsxs)(ge.p,{children:[v&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(gn,{}),(0,i.jsx)(fe,{})]}),(0,i.jsx)(Qe,{})]}),(0,i.jsx)(l.F,{hide:m&&h===nn.D.DOWN,children:(0,i.jsx)("div",{"data-testid":"tdp-mobile-bottom-bar",children:(0,i.jsx)(T,{})})})]})})}var bn;function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)({}).hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},wn.apply(null,arguments)}function Tn(e,n){let{title:o,titleId:i,...r}=e;return m.createElement("svg",wn({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:n,"aria-labelledby":i},r),o?m.createElement("title",{id:i},o):null,bn||(bn=m.createElement("path",{d:"M14.75 12C14.75 13.517 13.517 14.75 12 14.75C10.483 14.75 9.25004 13.517 9.25004 12C9.25004 11.651 9.32196 11.32 9.44096 11.012C9.63496 11.166 9.86903 11.272 10.136 11.272C10.763 11.272 11.272 10.763 11.272 10.136C11.272 9.86899 11.166 9.63492 11.012 9.44092C11.32 9.32192 11.651 9.25 12 9.25C13.517 9.25 14.75 10.483 14.75 12ZM20.5921 13.4771C19.3651 15.5311 16.609 19 12 19C7.39104 19 4.635 15.5311 3.408 13.4771C2.864 12.5671 2.864 11.4329 3.408 10.5229C4.635 8.46895 7.39104 5 12 5C16.609 5 19.3651 8.46895 20.5921 10.5229C21.1361 11.4329 21.1361 12.5671 20.5921 13.4771ZM16.25 12C16.25 9.657 14.344 7.75 12 7.75C9.65604 7.75 7.75004 9.657 7.75004 12C7.75004 14.343 9.65604 16.25 12 16.25C14.344 16.25 16.25 14.343 16.25 12Z",fill:"currentColor"})))}const $n=m.forwardRef(Tn);o.p;var In=o(70819),Pn=o(87873),Vn=o(7740);const Ln=le.Ay.div`
  padding-top: 128px;
  display: flex;
  flex-direction: column;
  align-items: center;
`,Mn=le.Ay.span`
  margin-top: 28px;
  margin-bottom: 20px;

  text-align: center;

  color: ${({theme:e})=>e.neutral2};
  font-size: 20px;
  font-weight: 535;
  line-height: 28px;
`,An=(0,le.Ay)(In.$$)`
  width: fit-content;
  padding: 12px 16px;
  border-radius: 12px;

  color: ${({theme:e})=>e.neutral1};
  font-size: 16px;
  font-weight: 535;
`;function En({pageChainId:e,isInvalidAddress:n}){const{chainId:o}=(0,v.F)(),r=(0,Vn.oe)(o),t=(0,Vn.oe)(e),l=(0,y.Zp)(),a=(0,Pn.A)(),s=!n&&e===o,d=r?(0,E.getChainLabel)(o):void 0;return(0,i.jsxs)(Ln,{children:[(0,i.jsx)($n,{}),n||s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Mn,{children:(0,i.jsx)(x.Trans,{i18nKey:"tdp.invalidTokenPage.title"})}),(0,i.jsx)(An,{onClick:()=>l("/tokens"),children:(0,i.jsx)(se.P.SubHeader,{children:(0,i.jsx)(x.Trans,{i18nKey:"common.exploreTokens"})})})]}):(0,i.jsxs)(i.Fragment,{children:[d&&(0,i.jsx)(Mn,{children:(0,i.jsx)(x.Trans,{i18nKey:"tdp.invalidTokenPage.titleWithChain",values:{network:d}})}),(0,i.jsx)(An,{onClick:()=>a(e),children:(0,i.jsx)(se.P.SubHeader,{children:(0,i.jsx)(x.Trans,{i18nKey:"tdp.invalidTokenPage.switchChainPrompt",values:{network:t?(0,E.getChainLabel)(e):""}})})})]})]})}var Sn=o(49472),Fn=o(15370),Bn=o(16563);function Nn(e,n,o){var i,r;const t=null===(i=n)||void 0===i?void 0:i.name,l=null===(r=n)||void 0===r?void 0:r.symbol,a=e("common.buyAndSell");if(!t&&!l)return a;const s=o&&o!==de.UniverseChainId.Mainnet?` on ${(0,E.getChainLabel)(o)}`:"";return!t&&l?`${l}${s}: ${a}`:t&&!l?`${t}${s}: ${a}`:`${t} (${l})${s}: ${a}`}const On=(e,n)=>{var o,i,r,t,l,a;return`Buy, sell, and swap ${(null===(o=e)||void 0===o?void 0:o.name)&&(null===(i=e)||void 0===i?void 0:i.symbol)?`${null===(r=e)||void 0===r?void 0:r.name} (${null===(t=e)||void 0===t?void 0:t.symbol})`:(null===(l=e)||void 0===l?void 0:l.name)??(null===(a=e)||void 0===a?void 0:a.symbol)??"tokens"}${n&&n!==de.UniverseChainId.Mainnet?` on ${(0,E.getChainLabel)(n)}`:""}. Real-time prices, charts, transaction data, and more.`};var Kn=o(12085),Qn=o(68957),Rn=o(96676),Wn=o(46739),Dn=o(52239);function qn(e,n,o,i){var r;const{chainId:t}=(0,v.F)(),l=t??de.UniverseChainId.Mainnet,a=(0,m.useMemo)((()=>{var n;return i?(0,mn.nativeOnChain)(o):(null===(n=e.data)||void 0===n?void 0:n.token)?(0,N.d2)(e.data.token):void 0}),[i,o,null===(r=e.data)||void 0===r?void 0:r.token]),s=Boolean(a)||o!==l,d=function(e,n,o){var i;const r=(0,en.H2)(o?void 0:e,n);return o||!e||r&&(null===(i=r)||void 0===i?void 0:i.symbol)===c.O?void 0:r}(n,o,s);return{currency:a??d,currencyWasFetchedOnChain:!a}}function Un(){var e,n,o,i,r,t,l,a;const{tokenAddress:s}=(0,y.g)();if(!s)throw new Error("Invalid token details route: token address URL param is undefined");const d=(0,xn.getChainInfo)((0,Wn.WB)()??de.UniverseChainId.Mainnet),u=s===c.E,v=u?(0,Dn.z)(d.backendChain.chain):s,h=(0,M.useTokenWebQuery)({variables:{address:v,chain:d.backendChain.chain},errorPolicy:"all"}),p=(0,je.R_)(v,d.backendChain.chain),x=function(e){var n,o,i,r;const{data:t}=(0,Fn.k1)();return(0,m.useMemo)((()=>{var n,o,i,r,l,a;const s=null===(i=t)||void 0===i||null===(o=i.portfolios)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.tokenBalances,d=null===(a=e.data)||void 0===a||null===(l=a.token)||void 0===l||null===(r=l.project)||void 0===r?void 0:r.tokens;return d?d.reduce(((e,n)=>{if(n){var o;e[n.chain]||(e[n.chain]={});const i=e[n.chain]??{};i.address=n.address,i.balance=null===(o=s)||void 0===o?void 0:o.find((e=>{var o,i;return(null===(i=e)||void 0===i||null===(o=i.token)||void 0===o?void 0:o.id)===n.id})),e[n.chain]=i}return e}),{}):{}}),[null===(n=t)||void 0===n?void 0:n.portfolios,null===(r=e.data)||void 0===r||null===(i=r.token)||void 0===i||null===(o=i.project)||void 0===o?void 0:o.tokens])}(h),{currency:f,currencyWasFetchedOnChain:j}=qn(h,s,d.id,u),g=(0,Sn.X0)(s,d.id),C=(0,Le.useTheme)(),{preloadedLogoSrc:k}=(0,y.zy)().state??{},b=(null===(o=h.data)||void 0===o||null===(n=o.token)||void 0===n||null===(e=n.project)||void 0===e?void 0:e.logoUrl)??k,w=(0,Bn.D)(b,(null===(r=h.data)||void 0===r||null===(i=r.token)||void 0===i?void 0:i.name)??(null===(a=h.data)||void 0===a||null===(l=a.token)||void 0===l||null===(t=l.project)||void 0===t?void 0:t.name),C.surface2).tokenColor??void 0;return(0,m.useMemo)((()=>{var e,n;return{currency:f,currencyChain:d.backendChain.chain,currencyChainId:d.id,address:((null===(e=f)||void 0===e?void 0:e.isNative)?c.E:null===(n=f)||void 0===n?void 0:n.address)??s,currencyWasFetchedOnChain:j,tokenQuery:h,chartState:p,warning:g,multiChainMap:x,tokenColor:w}}),[f,d.backendChain.chain,d.id,s,j,h,p,g,x,w])}function Hn(){var e,n,o;const{t:r}=(0,x.useTranslation)(),t=(0,v.F)().chainId??de.UniverseChainId.Mainnet,l=Un(),{tokenColor:a,address:s,currency:d,currencyChain:c,currencyChainId:u,tokenQuery:h}=l,y=null===(e=h.data)||void 0===e?void 0:e.token,f=(0,m.useMemo)((()=>{var e,n,o;return{title:(0,Rn.v)(null===(e=y)||void 0===e?void 0:e.symbol,null===(n=y)||void 0===n?void 0:n.name),image:window.location.origin+"/api/image/tokens/"+c.toLowerCase()+"/"+((null===(o=d)||void 0===o?void 0:o.isNative)?(0,Dn.z)(c):s),url:window.location.href,description:On(d,u)}}),[s,d,c,u,null===(n=y)||void 0===n?void 0:n.name,null===(o=y)||void 0===o?void 0:o.symbol]),j=(0,Kn.t)(f);return(0,i.jsxs)(ae.NP,{accent1:a??void 0,children:[(0,i.jsxs)(Qn.Helmet,{children:[(0,i.jsx)("title",{children:Nn(r,d,u)}),j.map(((e,n)=>(0,i.jsx)("meta",{...e},n)))]}),d?(0,i.jsx)(p.Q,{contextValue:l,children:(0,i.jsx)(kn,{})}):h.loading?(0,i.jsx)(ge.AB,{}):(0,i.jsx)(En,{pageChainId:t,isInvalidAddress:!(0,G.isAddress)(s)})]})}},96676:(e,n,o)=>{function i(e,n){return e?"Get "+e+" on Uniswap":n?"Get "+n+" on Uniswap":"View Token on Uniswap"}function r(e,n,o){return e||(n&&o?n+" #"+o:o?"Asset #"+o:"View NFT on Uniswap")}o.d(n,{A:()=>r,v:()=>i})}}]);
//# sourceMappingURL=4790.d9b478a6.chunk.js.map